(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["donate"],{"080a":function(e,t,a){},"0b9d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-reading"}),e._v(" 日志系统 ")])],1)],1),a("el-card",[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"24小时内日志数据",name:"first"}},[a("el-table",{staticStyle:{width:"99%"},attrs:{data:e.logShow_new_one,stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{staticStyle:{background:"rgba(150, 154, 184,0.05)"},attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-table",{staticStyle:{width:"62%"},attrs:{data:e.row.children}},[a("el-table-column",{attrs:{prop:"label4",label:"生成方法名",width:"180"}}),a("el-table-column",{attrs:{prop:"finish_task_number",label:"已完成任务数量",width:"180"}}),a("el-table-column",{attrs:{prop:"ran_task_number",label:"运行中任务数量",width:"180"}}),a("el-table-column",{attrs:{prop:"generate_data_number",label:"生成数据数量",width:"180"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"label1",label:"日志记录时间",align:"center"}})],1)],1),a("el-tab-pane",{attrs:{label:"近15天系统日志数据",name:"second"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.logShow_new_two,stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{staticStyle:{background:"rgba(150, 154, 184,0.05)"},attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-table",{staticStyle:{width:"62%"},attrs:{data:e.row.children}},[a("el-table-column",{attrs:{prop:"label4",label:"生成方法名",width:"180"}}),a("el-table-column",{attrs:{prop:"finish_task_number",label:"已完成任务数量",width:"180"}}),a("el-table-column",{attrs:{prop:"ran_task_number",label:"运行中任务数量",width:"180"}}),a("el-table-column",{attrs:{prop:"generate_data_number",label:"生成数据数量",width:"180"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"label1",label:"日志记录时间",align:"center"}})],1)],1),a("el-tab-pane",{attrs:{label:"近6个月系统日志数据",name:"third"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.logShow_new_three,stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{staticStyle:{background:"rgba(150, 154, 184,0.05)"},attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-table",{staticStyle:{width:"62%"},attrs:{data:e.row.children}},[a("el-table-column",{attrs:{prop:"label4",label:"生成方法名",width:"180"}}),a("el-table-column",{attrs:{prop:"finish_task_number",label:"已完成任务数量",width:"180"}}),a("el-table-column",{attrs:{prop:"ran_task_number",label:"运行中任务数量",width:"180"}}),a("el-table-column",{attrs:{prop:"generate_data_number",label:"生成数据数量",width:"180"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"label1",label:"日志记录时间",align:"center"}})],1)],1)],1)],1)],1)},r=[],s=(a("96cf"),a("1da1")),i=(a("4328"),a("3452")),o=a.n(i),l={name:"baseform",data:function(){return{activeName:"first",logData:{},logShow_old:[],logShow_new_one:[],logShow_new_two:[],logShow_new_three:[],logDownload:""}},methods:{getOne:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("log/recent_twenty_four_hours/");case 2:if(t=e.sent,a=t.data,2e4===a.code){e.next=7;break}return console.log(a.code),e.abrupt("return",this.$message.error("获取24小时内日志数据失败！"));case 7:this.logData=a.data,this.showData(1);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTwo:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("log/recent_fifteen_days/");case 2:if(t=e.sent,a=t.data,2e4===a.code){e.next=7;break}return console.log(a.code),e.abrupt("return",this.$message.error("获取近15日系统日志数据失败！"));case 7:this.logData=a.data,console.log("this.logData:",this.logData),this.showData(2);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getThree:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("log/recent_six_months/");case 2:if(t=e.sent,a=t.data,2e4===a.code){e.next=7;break}return console.log(a.code),e.abrupt("return",this.$message.error("获取近6个月系统日志数据失败！"));case 7:this.logData=a.data,this.showData(3);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleClick:function(e,t){},fileDownload:function(){o()(this.logDownload,"logData.json")},showData:function(e){var t=[];for(var a in this.logData){var n=[];for(var r in this.logData[a]){var s={};s=JSON.parse(JSON.stringify(this.logData[a][r])),s.label4=r,n.push(s)}var i={};i.label1=a,i.children=n,t.push(i)}console.log("logShow:"),console.log(t),1===e?this.logShow_new_one=t:2===e?this.logShow_new_two=t:this.logShow_new_three=t}},mounted:function(){this.getOne(),this.getTwo(),this.getThree()}},c=l,u=(a("39c1"),a("2877")),d=Object(u["a"])(c,n,r,!1,null,"50528026",null);t["default"]=d.exports},"110f":function(e,t,a){"use strict";a("a01f")},"1da1":function(e,t,a){"use strict";function n(e,t,a,n,r,s,i){try{var o=e[s](i),l=o.value}catch(c){return void a(c)}o.done?t(l):Promise.resolve(l).then(n,r)}function r(e){return function(){var t=this,a=arguments;return new Promise((function(r,s){var i=e.apply(t,a);function o(e){n(i,r,s,o,l,"next",e)}function l(e){n(i,r,s,o,l,"throw",e)}o(void 0)}))}}a.d(t,"a",(function(){return r}))},2806:function(e,t,a){},3452:function(e,t){e.exports=function(e,t,a,n){var r="undefined"!==typeof n?[n,e]:[e],s=new Blob(r,{type:a||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(s,t);else{var i=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(s):window.webkitURL.createObjectURL(s),o=document.createElement("a");o.style.display="none",o.href=i,o.setAttribute("download",t),"undefined"===typeof o.download&&o.setAttribute("target","_blank"),document.body.appendChild(o),o.click(),setTimeout((function(){document.body.removeChild(o),window.URL.revokeObjectURL(i)}),200)}}},"35f6":function(e,t,a){},"39c1":function(e,t,a){"use strict";a("e7a4")},"405b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-picture-outline-round"}),e._v(" 雷达图像数据 ")]),a("el-breadcrumb-item",[e._v("生成任务查询")])],1)],1),a("el-card",[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"本用户",name:"self"}},[a("el-row",{staticClass:"search",attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline_Self}},[a("el-form-item",{attrs:{label:"查询方式"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"请选择查询方式",prop:"searchType"},model:{value:e.formInline_Self.searchType,callback:function(t){e.$set(e.formInline_Self,"searchType",t)},expression:"formInline_Self.searchType"}},[a("el-option",{attrs:{label:"生成方法id",value:"生成方法id"}}),a("el-option",{attrs:{label:"生成类型id",value:"生成类型id"}}),a("el-option",{attrs:{label:"任务名称",value:"任务名称"}}),a("el-option",{attrs:{label:"任务id",value:"任务id"}})],1)],1),a("el-form-item",{attrs:{label:"查询内容"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getTaskList_Self},model:{value:e.formInline_Self.searchTaskInfo,callback:function(t){e.$set(e.formInline_Self,"searchTaskInfo",t)},expression:"formInline_Self.searchTaskInfo"}},[a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.pageReflash_Self(),e.SearchTask_Self()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"})])],1)],1)],1)],1)],1),a("el-table",{attrs:{data:e.taskList_Self,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"id",prop:"id",width:"50px"}}),a("el-table-column",{attrs:{label:"任务名",prop:"name"}}),a("el-table-column",{attrs:{label:"任务状态",prop:"task_status",width:"100px"}}),a("el-table-column",{attrs:{label:"任务是否上传原型文件",prop:"task_have_origin_file",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.task_have_origin_file?a("el-tag",{staticClass:"right10"},[e._v("\n                                  是  \n                            ")]):!1===t.row.task_have_origin_file?a("el-tag",{attrs:{type:"danger"}},[e._v("  否  ")]):e._e(),!0===t.row.task_have_origin_file?a("el-tooltip",{attrs:{content:"原始文件下载",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"success",icon:"el-icon-download",size:"mini",plain:""},on:{click:function(a){return e.originalfileDownload(t.row.id)}}})],1):e._e()]}}])}),a("el-table-column",{attrs:{label:"任务是否生成生成文件",prop:"task_have_generate_file",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.task_have_generate_file?a("el-tag",[e._v("\n                                  是  \n                            ")]):!1===t.row.task_have_generate_file?a("el-tag",{attrs:{type:"danger"}},[e._v("  否  ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"任务生成数据数量",prop:"generate_data_number",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e.isBlank_num(t))+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"任务数据更新时间",prop:"update_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(t.row.update_datetime))+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"任务开始时间",prop:"start_datetime",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(e.isBlank_start(t)))+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"任务结束时间",prop:"fin_datetime",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(e.isBlank_end(t)))+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.id,t.row.name,t.row.params)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.removeTaskById(t.row.id)}}})],1)]}}])}),a("el-table-column",{attrs:{label:"详情",width:"65px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"方法详情",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"info",icon:"el-icon-more-outline",size:"mini"},on:{click:function(a){return e.MethodDetail(t.row.id)}}})],1)]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo_Self.page,"page-size":10,layout:"total, prev, pager, next",total:e.total_Self},on:{"size-change":e.handleSizeChange_Self,"current-change":e.handleCurrentChange_Self,"update:currentPage":function(t){return e.$set(e.queryInfo_Self,"page",t)},"update:current-page":function(t){return e.$set(e.queryInfo_Self,"page",t)}}})],1),"超级管理员"===this.userRight?a("el-tab-pane",{attrs:{label:"所有用户",name:"all"}},[a("el-row",{staticClass:"search",attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline_All}},[a("el-form-item",{attrs:{label:"查询方式"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"请选择查询方式",prop:"searchType"},model:{value:e.formInline_All.searchType,callback:function(t){e.$set(e.formInline_All,"searchType",t)},expression:"formInline_All.searchType"}},[a("el-option",{attrs:{label:"生成方法id",value:"生成方法id"}}),a("el-option",{attrs:{label:"生成类型id",value:"生成类型id"}}),a("el-option",{attrs:{label:"任务名称",value:"任务名称"}}),a("el-option",{attrs:{label:"任务id",value:"任务id"}}),a("el-option",{attrs:{label:"用户id",value:"用户id"}}),a("el-option",{attrs:{label:"用户名",value:"用户名"}})],1)],1),a("el-form-item",{attrs:{label:"查询内容"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getTaskList_All},model:{value:e.formInline_All.searchTaskInfo,callback:function(t){e.$set(e.formInline_All,"searchTaskInfo",t)},expression:"formInline_All.searchTaskInfo"}},[a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.pageReflash_All(),e.getTaskList_All()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"}),e._v("所有用户")])],1)],1)],1)],1)],1),a("el-table",{attrs:{data:e.taskList_All,border:"",stripe:"","empty-text":"暂无数据"}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"id",prop:"id",width:"50px"}}),a("el-table-column",{attrs:{label:"任务名",prop:"name"}}),a("el-table-column",{attrs:{label:"任务状态",prop:"task_status"}}),a("el-table-column",{attrs:{label:"任务是否上传原型文件",prop:"task_have_origin_file",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.task_have_origin_file?a("el-tag",{staticClass:"right10"},[e._v("\n                                  是  \n                            ")]):!1===t.row.task_have_origin_file?a("el-tag",{attrs:{type:"danger"}},[e._v("  否  ")]):e._e(),!0===t.row.task_have_origin_file?a("el-tooltip",{attrs:{content:"原始文件下载",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"success",icon:"el-icon-download",size:"mini",plain:""},on:{click:function(a){return e.originalfileDownload(t.row.id)}}})],1):e._e()]}}],null,!1,2712567633)}),a("el-table-column",{attrs:{label:"任务是否生成生成文件",prop:"task_have_generate_file",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.task_have_generate_file?a("el-tag",[e._v("\n                                  是  \n                            ")]):!1===t.row.task_have_generate_file?a("el-tag",{attrs:{type:"danger"}},[e._v("  否  ")]):e._e()]}}],null,!1,1762853550)}),a("el-table-column",{attrs:{label:"任务生成数据数量",prop:"generate_data_number"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e.isBlank_num(t))+"\n                        ")]}}],null,!1,3497418383)}),a("el-table-column",{attrs:{label:"任务数据更新时间",prop:"update_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(t.row.update_datetime))+"\n                        ")]}}],null,!1,3402086428)}),a("el-table-column",{attrs:{label:"任务开始时间",prop:"start_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(e.isBlank_start(t)))+"\n                        ")]}}],null,!1,3832440439)}),a("el-table-column",{attrs:{label:"任务结束时间",prop:"fin_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(e.isBlank_end(t)))+"\n                        ")]}}],null,!1,3397014904)}),a("el-table-column",{attrs:{label:"任务所有者名称",prop:"master_username"}}),a("el-table-column",{attrs:{label:"操作",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.id,t.row.name,t.row.params)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.removeTaskById(t.row.id)}}})],1)]}}],null,!1,3651245204)}),a("el-table-column",{attrs:{label:"详情",width:"65px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"方法详情",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"info",icon:"el-icon-more-outline",size:"mini"},on:{click:function(a){return e.MethodDetail(t.row.id)}}})],1)]}}],null,!1,2363916491)})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo_All.page,"page-size":10,layout:"total, prev, pager, next",total:e.total_All},on:{"size-change":e.handleSizeChange_All,"current-change":e.handleCurrentChange_All,"update:currentPage":function(t){return e.$set(e.queryInfo_All,"page",t)},"update:current-page":function(t){return e.$set(e.queryInfo_All,"page",t)}}})],1):e._e()],1)],1),a("el-dialog",{attrs:{title:"编辑任务信息",visible:e.editDialogSelfVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogSelfVisible=t},closed:e.editDialogClosed}},[a("el-form",{ref:"editFormRef",attrs:{model:e.editForm_Self,rules:e.editFormSelfRules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"任务id"}},[a("el-input",{attrs:{disabled:""},model:{value:e.editForm_Self.task_id,callback:function(t){e.$set(e.editForm_Self,"task_id",t)},expression:"editForm_Self.task_id"}})],1),a("el-form-item",{attrs:{label:"任务名",prop:"name"}},[a("el-input",{model:{value:e.editForm_Self.name,callback:function(t){e.$set(e.editForm_Self,"name",t)},expression:"editForm_Self.name"}})],1),a("el-form-item",{attrs:{label:"任务参数",prop:"params"}},[a("el-input",{model:{value:e.editForm_Self.params,callback:function(t){e.$set(e.editForm_Self,"params",t)},expression:"editForm_Self.params"}})],1),a("el-form-item",{attrs:{label:"重新上传文件",prop:"file"}},[a("input",{attrs:{type:"file",id:"filetemp",prop:"editForm_Self.file"}}),a("br")])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogSelfVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editTaskInfo}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"生成任务详情",visible:e.methodDialogSelfVisible,width:"50%","body-style":"background-color: rgba(255, 255, 255, 0.6);"},on:{"update:visible":function(t){e.methodDialogSelfVisible=t}}},[a("div",{staticClass:"user-info-list"},[e._v("\n            任务id：\n            "),a("span",[e._v(e._s(e.methodDetail.id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务名称：\n            "),a("span",[e._v(e._s(e.methodDetail.name))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务参数：\n            "),a("span",[e._v(e._s(e.methodDetail.params?e.methodDetail.params:"暂无"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务状态：\n            "),a("span",[e._v(e._s(e.methodDetail.task_status))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务是否上传原型文件：\n            "),a("span",[e._v(e._s(e.methodDetail.task_have_origin_file?"是":"否"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务是否生成扩增文件：\n            "),a("span",[e._v(e._s(e.methodDetail.task_have_generate_file?"是":"否"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务扩增数据数量：\n            "),a("span",[e._v(e._s(e.methodDetail.generate_data_number?e.methodDetail.generate_data_number:"暂无"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务数据更新时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.update_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务开始时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.start_datetime?e.methodDetail.start_datetime:"未开始")))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务结束时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.fin_datetime?e.methodDetail.start_datetime:"未结束")))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者id：\n            "),a("span",[e._v(e._s(e.methodDetail.master_id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者username：\n            "),a("span",[e._v(e._s(e.methodDetail.master_username))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者nickname：\n            "),a("span",[e._v(e._s(e.methodDetail.master_nickname))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者用户组：\n            "),a("span",[e._v(e._s(e.methodDetail.master_user_group))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者加入时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.master_join_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者最近一次登录时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.master_last_login_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者信息更新时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.master_update_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增方法id：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_method_id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增方法名称：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_method_name))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增方法的细节、介绍等：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_method_details))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增类型id：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_type_id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增类型名称：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_type_name))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增类型的细节、介绍等：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_type_details))])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.methodDialogSelfVisible=!1}}},[e._v("关 闭")])],1)])],1)},r=[],s=(a("7f7f"),a("96cf"),a("1da1")),i=a("ade3"),o=(a("4328"),a("3452"),{data:function(){var e;return e={queryInfo_Self:{page:1},taskList_Self:[],total_Self:0,formInline_Self:{searchType:"",searchTaskInfo:""},editDialogSelfVisible:!1,editForm_Self:{task_id:0,master:this.$store.getters.userId,name:"",params:"",file:{}},editFormSelfRules:{name:[{required:!0,message:"请输入任务名",trigger:"blur"}]},queryInfo_All:{page:1},taskList_All:[],total_All:0,formInline_All:{searchType:"",searchTaskInfo:""},editDialogAllVisible:!1,editForm_All:{task_id:0,master:this.$store.state.userId,name:"",params:"",file:{}},editFormAllRules:{name:[{required:!0,message:"请输入任务名",trigger:"blur"}]},FuzzySearch:!0,activeName:"self"},Object(i["a"])(e,"taskList_All",[]),Object(i["a"])(e,"userRight",""),Object(i["a"])(e,"methodDialogSelfVisible",!1),Object(i["a"])(e,"methodDetail",[]),Object(i["a"])(e,"mohu",!0),e},created:function(){this.userRight=window.sessionStorage.getItem("user_group_name"),console.log("this.userRight:"),console.log(this.userRight),this.getTaskList_Self()},methods:{getTaskList_Self:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("/task/self/search/?page="+this.queryInfo_Self.page),e.next=3,this.$http.get("/task/self/search/?page="+this.queryInfo_Self.page);case 3:if(t=e.sent,a=t.data,2e4===a.code){e.next=10;break}if(40400!==a.code){e.next=8;break}return e.abrupt("return",this.$message.error("本用户未添加过任务！"));case 8:return console.log(a.code),e.abrupt("return",this.$message.error("获取本用户任务列表失败！"));case 10:this.taskList_Self=a.data.details,console.log("data:"),console.log(a),this.totalPageNum=a.data.pages,console.log("this.totalPageNum:"),console.log(this.totalPageNum),this.total_Self=10*this.totalPageNum;case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),SearchTask_Self:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==this.formInline_Self.searchType){e.next=2;break}return e.abrupt("return",this.$message.error("请输入查询方式！"));case 2:if(""!==this.formInline_Self.searchTaskInfo){e.next=4;break}return e.abrupt("return",this.$message.error("请输入搜索内容！"));case 4:return t="",t="生成方法id"===this.formInline_Self.searchType?"/task/augmentation_method/search/?augmentation_method="+this.formInline_Self.searchTaskInfo:"生成类型id"===this.formInline_Self.searchType?"/task/augmentation_type/search/?augmentation_type="+this.formInline_Self.searchTaskInfo:"任务名称"===this.formInline_Self.searchType?"/task/name/search/?task_name="+this.formInline_Self.searchTaskInfo+"&search_type=1":"/task/id/search/?task_id="+this.formInline_Self.searchTaskInfo,e.next=8,this.$http.get(t);case 8:if(a=e.sent,n=a.data,2e4===n.code){e.next=12;break}return e.abrupt("return",this.$message.error("未搜索到该任务！"));case 12:"任务id"===this.formInline_Self.searchType?(this.taskList_Self=[],this.taskList_Self.push(n.data)):this.taskList_Self=n.data.details,this.total_Self=this.taskList_Self?this.taskList_Self.length:0,this.totalPageNum=n.data.pages;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTaskList_All:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r,s,i,o,l,c,u,d,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("this.formInline_All:"),console.log(this.formInline_All),""!==this.formInline_All.searchType&&"用户id"!==this.formInline_All.searchType&&""!==this.formInline_All.searchTaskInfo){e.next=14;break}return e.next=5,this.$http.get("/task/master/admin/search/?page="+this.queryInfo_All.page+"&user_id="+window.sessionStorage.getItem("userId"));case 5:if(t=e.sent,a=t.data,2e4===a.code){e.next=9;break}return e.abrupt("return",this.$message.error("获取任务列表失败[用户id]！"));case 9:this.taskList_All=a.data.details,this.totalPageNum=a.data.pages,this.total_All=10*this.totalPageNum,e.next=77;break;case 14:if("任务名称"!==this.formInline_All.searchType){e.next=28;break}return console.log("/task/name/admin/search/?page="+this.queryInfo_All.page+"&task_name="+this.formInline_All.searchTaskInfo),e.next=18,this.$http.get("/task/name/admin/search/?page="+this.queryInfo_All.page+"&task_name="+this.formInline_All.searchTaskInfo);case 18:if(n=e.sent,r=n.data,2e4===r.code){e.next=23;break}return console.log(r.code),e.abrupt("return",this.$message.error("获取查询列表失败[任务名称]！"));case 23:this.taskList_All=r.data.details,this.totalPageNum=r.data.pages,this.total_All=10*this.totalPageNum,e.next=77;break;case 28:if("任务id"!==this.formInline_All.searchType){e.next=41;break}return e.next=31,this.$http.get("/task/id/admin/search/?page="+this.queryInfo_All.page+"&task_id="+this.formInline_All.searchTaskInfo);case 31:if(s=e.sent,i=s.data,2e4===i.code){e.next=36;break}return console.log(i.code),e.abrupt("return",this.$message.error("获取查询列表失败[任务id]！"));case 36:this.taskList_All=i.data.details,this.totalPageNum=i.data.pages,this.total_All=10*this.totalPageNum,e.next=77;break;case 41:if("生成类型id"!==this.formInline_All.searchType){e.next=54;break}return e.next=44,this.$http.get("/task/augmentation_type/admin/search/?page="+this.queryInfo_All.page+"&augmentation_type="+this.formInline_All.searchTaskInfo);case 44:if(o=e.sent,l=o.data,2e4===l.code){e.next=49;break}return console.log(l.code),e.abrupt("return",this.$message.error("获取查询列表失败[生成类型]！"));case 49:this.taskList_All=l.data.details,this.totalPageNum=l.data.pages,this.total_All=10*this.totalPageNum,e.next=77;break;case 54:if("生成方法id"!==this.formInline_All.searchType){e.next=67;break}return e.next=57,this.$http.get("/task/augmentation_method/admin/search/?page="+this.queryInfo_All.page+"&augmentation_method="+this.formInline_All.searchTaskInfo);case 57:if(c=e.sent,u=c.data,2e4===u.code){e.next=62;break}return console.log(u.code),e.abrupt("return",this.$message.error("获取查询列表失败[生成方法]！"));case 62:this.taskList_All=u.data.details,this.totalPageNum=u.data.pages,this.total_All=10*this.totalPageNum,e.next=77;break;case 67:if("用户名"!==this.formInline_All.searchType){e.next=77;break}return e.next=70,this.$http.get("/task/master/admin/search/?page="+this.queryInfo_All.page+"&username="+this.formInline_All.searchTaskInfo);case 70:if(d=e.sent,m=d.data,2e4===m.code){e.next=74;break}return e.abrupt("return",this.$message.error("获取任务列表失败[用户名]！"));case 74:this.taskList_All=m.data.details,this.totalPageNum=m.data.pages,this.total_All=10*this.totalPageNum;case 77:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange_Self:function(e){this.queryInfo_Self.pagesize=e,this.getTaskList_Self()},handleCurrentChange_Self:function(e){this.queryInfo_Self.page=e,this.getTaskList_Self()},handleSizeChange_All:function(e){this.queryInfo_All.pagesize=e,this.getTaskList_All()},handleCurrentChange_All:function(e){this.queryInfo_All.page=e,this.getTaskList_All()},removeTaskById:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(a=e.sent,"confirm"===a){e.next=5;break}return e.abrupt("return",this.$message.info("已取消删除"));case 5:return e.next=7,this.$http.delete("/task/?task_id="+t);case 7:if(n=e.sent,r=n.data,2e4===r.code){e.next=11;break}return e.abrupt("return",this.$message.error("删除任务失败！"));case 11:this.$message.success("删除任务成功！"),this.getTaskList_Self();case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),showEditDialog:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.editForm_Self.task_id=t,this.editForm_Self.name=a,this.editForm_Self.params=n,this.editDialogSelfVisible=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}(),editDialogClosed:function(){this.$refs.editFormRef.resetFields()},editTaskInfo:function(){var e=this;this.$refs.editFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return n=new FormData,n.append("task_id",e.editForm_Self.task_id),n.append("name",e.editForm_Self.name),n.append("master",e.editForm_Self.master),e.editForm_Self.params&&n.append("params",e.editForm_Self.params),e.editForm_Self.file=document.getElementById("filetemp").files[0],e.editForm_Self.file&&n.append("file",e.editForm_Self.file),t.next=11,e.$http({url:"/task/",data:n,method:"put"});case 11:if(r=t.sent,s=r.data,2e4===s.code){t.next=15;break}return t.abrupt("return",e.$message.error("修改任务失败！"));case 15:e.$message.success("修改任务成功！"),e.editDialogSelfVisible=!1,e.$refs.editFormRef.resetFields(),e.editForm_Self.augmentation_type="",e.editForm_Self.augmentation_method="",e.editForm_Self.file={},e.getTaskList_Self();case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},originalfileDownload:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/task/file/?task_id="+t+"&file_type=0");case 2:a=e.sent,a.data;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleClick:function(e,t){"1"===e.index&&this.getTaskList_All()},isBlank_num:function(e){var t=e.column.property,a=e.row[t],n="-- --";return(0===a||!1===a||a)&&(n=a),n},isBlank_start:function(e){var t=e.column.property,a=e.row[t],n="未开始";return(0===a||!1===a||a)&&(n=a),n},isBlank_end:function(e){var t=e.column.property,a=e.row[t],n="未结束";return(0===a||!1===a||a)&&(n=a),n},pageReflash_All:function(){this.queryInfo_All.page=1},pageReflash_Self:function(){this.queryInfo_Self.page=1},MethodDetail:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.methodDialogSelfVisible=!0,e.next=3,this.$http.get("/task/?task_id="+t);case 3:if(a=e.sent,n=a.data,2e4===n.code){e.next=8;break}return console.log(n.code),e.abrupt("return",this.$message.error("获取本用户任务详情失败！"));case 8:console.log(n),this.methodDetail=n.data,console.log("this.methodDetail:"),console.log(this.methodDetail);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}}),l=o,c=(a("b85f"),a("2877")),u=Object(c["a"])(l,n,r,!1,null,"76cb2cf4",null);t["default"]=u.exports},"427d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-magic-stick"}),e._v(" 激光雷达数据 ")]),a("el-breadcrumb-item",[e._v("生成任务查询")])],1)],1),a("el-card",[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"本用户",name:"self"}},[a("el-row",{staticClass:"search",attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline_Self}},[a("el-form-item",{attrs:{label:"查询方式"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"请选择查询方式",prop:"searchType"},model:{value:e.formInline_Self.searchType,callback:function(t){e.$set(e.formInline_Self,"searchType",t)},expression:"formInline_Self.searchType"}},[a("el-option",{attrs:{label:"生成方法id",value:"生成方法id"}}),a("el-option",{attrs:{label:"生成类型id",value:"生成类型id"}}),a("el-option",{attrs:{label:"任务名称",value:"任务名称"}}),a("el-option",{attrs:{label:"任务id",value:"任务id"}})],1)],1),a("el-form-item",{attrs:{label:"查询内容"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getTaskList_Self},model:{value:e.formInline_Self.searchTaskInfo,callback:function(t){e.$set(e.formInline_Self,"searchTaskInfo",t)},expression:"formInline_Self.searchTaskInfo"}},[a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.pageReflash_Self(),e.SearchTask_Self()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"})])],1)],1)],1)],1)],1),a("el-table",{attrs:{data:e.taskList_Self,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"id",prop:"id",width:"50px"}}),a("el-table-column",{attrs:{label:"任务名",prop:"name"}}),a("el-table-column",{attrs:{label:"任务状态",prop:"task_status",width:"100px"}}),a("el-table-column",{attrs:{label:"是否上传原型文件",prop:"task_have_origin_file",width:"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.task_have_origin_file?a("el-tag",{staticClass:"right10"},[e._v("\n                                  是  \n                            ")]):!1===t.row.task_have_origin_file?a("el-tag",{attrs:{type:"danger"}},[e._v("  否  ")]):e._e(),!0===t.row.task_have_origin_file?a("el-tooltip",{attrs:{content:"原始文件下载",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"success",icon:"el-icon-download",size:"mini",plain:""},on:{click:function(a){return e.originalfileDownload(t.row.id)}}})],1):e._e()]}}])}),a("el-table-column",{attrs:{label:"是否生成生成文件",prop:"task_have_generate_file",width:"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.task_have_generate_file?a("el-tag",{staticClass:"right10"},[e._v("\n                                  是  \n                            ")]):!1===t.row.task_have_generate_file?a("el-tag",{attrs:{type:"danger"}},[e._v("  否  ")]):e._e(),!0===t.row.task_have_generate_file?a("el-tooltip",{attrs:{content:"生成文件下载",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"success",icon:"el-icon-download",size:"mini",plain:""},on:{click:function(a){return e.generatefileDownload(t.row.id)}}})],1):e._e()]}}])}),a("el-table-column",{attrs:{label:"任务生成数据数量",prop:"generate_data_number",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e.isBlank_num(t))+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"任务数据更新时间",prop:"update_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(t.row.update_datetime))+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"任务开始时间",prop:"start_datetime",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(e.isBlank_start(t)))+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"任务结束时间",prop:"fin_datetime",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(e.isBlank_end(t)))+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.id,t.row.name,t.row.params)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.removeTaskById(t.row.id)}}})],1)]}}])}),a("el-table-column",{attrs:{label:"详情",width:"65px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"方法详情",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"info",icon:"el-icon-more-outline",size:"mini"},on:{click:function(a){return e.MethodDetail(t.row.id)}}})],1)]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo_Self.page,"page-size":10,layout:"total, prev, pager, next",total:e.total_Self},on:{"size-change":e.handleSizeChange_Self,"current-change":e.handleCurrentChange_Self,"update:currentPage":function(t){return e.$set(e.queryInfo_Self,"page",t)},"update:current-page":function(t){return e.$set(e.queryInfo_Self,"page",t)}}})],1),"超级管理员"===this.userRight?a("el-tab-pane",{attrs:{label:"所有用户",name:"all"}},[a("el-row",{staticClass:"search",attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline_All}},[a("el-form-item",{attrs:{label:"查询方式"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"请选择查询方式",prop:"searchType"},model:{value:e.formInline_All.searchType,callback:function(t){e.$set(e.formInline_All,"searchType",t)},expression:"formInline_All.searchType"}},[a("el-option",{attrs:{label:"生成方法id",value:"生成方法id"}}),a("el-option",{attrs:{label:"生成类型id",value:"生成类型id"}}),a("el-option",{attrs:{label:"任务名称",value:"任务名称"}}),a("el-option",{attrs:{label:"任务id",value:"任务id"}}),a("el-option",{attrs:{label:"用户id",value:"用户id"}}),a("el-option",{attrs:{label:"用户名",value:"用户名"}})],1)],1),a("el-form-item",{attrs:{label:"查询内容"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getTaskList_All},model:{value:e.formInline_All.searchTaskInfo,callback:function(t){e.$set(e.formInline_All,"searchTaskInfo",t)},expression:"formInline_All.searchTaskInfo"}},[a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.pageReflash_All(),e.getTaskList_All()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"}),e._v("所有用户")])],1)],1)],1)],1)],1),a("el-table",{attrs:{data:e.taskList_All,border:"",stripe:"","empty-text":"暂无数据"}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"id",prop:"id",width:"50px"}}),a("el-table-column",{attrs:{label:"任务名",prop:"name"}}),a("el-table-column",{attrs:{label:"任务状态",prop:"task_status"}}),a("el-table-column",{attrs:{label:"是否上传原型文件",prop:"task_have_origin_file",width:"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.task_have_origin_file?a("el-tag",{staticClass:"right10"},[e._v("\n                                  是  \n                            ")]):!1===t.row.task_have_origin_file?a("el-tag",{attrs:{type:"danger"}},[e._v("  否  ")]):e._e(),!0===t.row.task_have_origin_file?a("el-tooltip",{attrs:{content:"原始文件下载",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"success",icon:"el-icon-download",size:"mini",plain:""},on:{click:function(a){return e.originalfileDownload(t.row.id)}}})],1):e._e()]}}],null,!1,2712567633)}),a("el-table-column",{attrs:{label:"是否生成生成文件",prop:"task_have_generate_file",width:"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.task_have_generate_file?a("el-tag",{staticClass:"right10"},[e._v("\n                                  是  \n                            ")]):!1===t.row.task_have_generate_file?a("el-tag",{attrs:{type:"danger"}},[e._v("  否  ")]):e._e(),!0===t.row.task_have_generate_file?a("el-tooltip",{attrs:{content:"生成文件下载",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"success",icon:"el-icon-download",size:"mini",plain:""},on:{click:function(a){return e.generatefileDownload(t.row.id)}}})],1):e._e()]}}],null,!1,3160277831)}),a("el-table-column",{attrs:{label:"任务生成数据数量",prop:"generate_data_number"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e.isBlank_num(t))+"\n                        ")]}}],null,!1,3497418383)}),a("el-table-column",{attrs:{label:"任务数据更新时间",prop:"update_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(t.row.update_datetime))+"\n                        ")]}}],null,!1,3402086428)}),a("el-table-column",{attrs:{label:"任务开始时间",prop:"start_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(e.isBlank_start(t)))+"\n                        ")]}}],null,!1,3832440439)}),a("el-table-column",{attrs:{label:"任务结束时间",prop:"fin_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(e.isBlank_end(t)))+"\n                        ")]}}],null,!1,3397014904)}),a("el-table-column",{attrs:{label:"任务所有者名称",prop:"master_username"}}),a("el-table-column",{attrs:{label:"操作",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.id,t.row.name,t.row.params)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.removeTaskById(t.row.id)}}})],1)]}}],null,!1,3651245204)}),a("el-table-column",{attrs:{label:"详情",width:"65px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"方法详情",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"info",icon:"el-icon-more-outline",size:"mini"},on:{click:function(a){return e.MethodDetail(t.row.id)}}})],1)]}}],null,!1,2363916491)})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo_All.page,"page-size":10,layout:"total, prev, pager, next",total:e.total_All},on:{"size-change":e.handleSizeChange_All,"current-change":e.handleCurrentChange_All,"update:currentPage":function(t){return e.$set(e.queryInfo_All,"page",t)},"update:current-page":function(t){return e.$set(e.queryInfo_All,"page",t)}}})],1):e._e()],1)],1),a("el-dialog",{attrs:{title:"编辑任务信息",visible:e.editDialogSelfVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogSelfVisible=t},closed:e.editDialogClosed}},[a("el-form",{ref:"editFormRef",attrs:{model:e.editForm_Self,rules:e.editFormSelfRules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"任务id"}},[a("el-input",{attrs:{disabled:""},model:{value:e.editForm_Self.task_id,callback:function(t){e.$set(e.editForm_Self,"task_id",t)},expression:"editForm_Self.task_id"}})],1),a("el-form-item",{attrs:{label:"任务名",prop:"name"}},[a("el-input",{model:{value:e.editForm_Self.name,callback:function(t){e.$set(e.editForm_Self,"name",t)},expression:"editForm_Self.name"}})],1),a("el-form-item",{attrs:{label:"任务参数",prop:"params"}},[a("el-input",{model:{value:e.editForm_Self.params,callback:function(t){e.$set(e.editForm_Self,"params",t)},expression:"editForm_Self.params"}})],1),a("el-form-item",{attrs:{label:"重新上传文件",prop:"file"}},[a("input",{attrs:{type:"file",id:"filetemp",prop:"editForm_Self.file"}}),a("br")])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogSelfVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editTaskInfo}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"生成任务详情",visible:e.methodDialogSelfVisible,width:"50%","body-style":"background-color: rgba(255, 255, 255, 0.6);"},on:{"update:visible":function(t){e.methodDialogSelfVisible=t}}},[a("div",{staticClass:"user-info-list"},[e._v("\n            任务id：\n            "),a("span",[e._v(e._s(e.methodDetail.id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务名称：\n            "),a("span",[e._v(e._s(e.methodDetail.name))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务参数：\n            "),a("span",[e._v(e._s(e.methodDetail.params?e.methodDetail.params:"暂无"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务状态：\n            "),a("span",[e._v(e._s(e.methodDetail.task_status))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            是否上传原型文件：\n            "),a("span",[e._v(e._s(e.methodDetail.task_have_origin_file?"是":"否"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            是否生成扩增文件：\n            "),a("span",[e._v(e._s(e.methodDetail.task_have_generate_file?"是":"否"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务扩增数据数量：\n            "),a("span",[e._v(e._s(e.methodDetail.generate_data_number?e.methodDetail.generate_data_number:"暂无"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务数据更新时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.update_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务开始时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.start_datetime?e.methodDetail.start_datetime:"未开始")))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务结束时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.fin_datetime?e.methodDetail.start_datetime:"未结束")))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者id：\n            "),a("span",[e._v(e._s(e.methodDetail.master_id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者username：\n            "),a("span",[e._v(e._s(e.methodDetail.master_username))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者nickname：\n            "),a("span",[e._v(e._s(e.methodDetail.master_nickname))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者用户组：\n            "),a("span",[e._v(e._s(e.methodDetail.master_user_group))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者加入时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.master_join_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者最近一次登录时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.master_last_login_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者信息更新时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.master_update_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增方法id：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_method_id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增方法名称：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_method_name))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增方法的细节、介绍等：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_method_details))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增类型id：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_type_id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增类型名称：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_type_name))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增类型的细节、介绍等：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_type_details))])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.methodDialogSelfVisible=!1}}},[e._v("关 闭")])],1)])],1)},r=[],s=(a("28a5"),a("7f7f"),a("96cf"),a("1da1")),i=a("ade3"),o=(a("4328"),a("3452")),l=a.n(o),c={data:function(){var e;return e={queryInfo_Self:{page:1},taskList_Self:[],total_Self:0,formInline_Self:{searchType:"",searchTaskInfo:""},editDialogSelfVisible:!1,editForm_Self:{task_id:0,master:this.$store.getters.userId,name:"",params:"",file:{}},editFormSelfRules:{name:[{required:!0,message:"请输入任务名",trigger:"blur"}]},queryInfo_All:{page:1},taskList_All:[],total_All:0,formInline_All:{searchType:"",searchTaskInfo:""},editDialogAllVisible:!1,editForm_All:{task_id:0,master:this.$store.state.userId,name:"",params:"",file:{}},editFormAllRules:{name:[{required:!0,message:"请输入任务名",trigger:"blur"}]},FuzzySearch:!0,activeName:"self"},Object(i["a"])(e,"taskList_All",[]),Object(i["a"])(e,"userRight",""),Object(i["a"])(e,"methodDialogSelfVisible",!1),Object(i["a"])(e,"methodDetail",[]),Object(i["a"])(e,"mohu",!0),e},created:function(){this.userRight=window.sessionStorage.getItem("user_group_name"),console.log("this.userRight:"),console.log(this.userRight),this.getTaskList_Self()},methods:{getTaskList_Self:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("/task/self/search/?page="+this.queryInfo_Self.page),e.next=3,this.$http.get("/task/self/search/?page="+this.queryInfo_Self.page);case 3:if(t=e.sent,a=t.data,2e4===a.code){e.next=10;break}if(40400!==a.code){e.next=8;break}return e.abrupt("return",this.$message.error("本用户未添加过任务！"));case 8:return console.log(a.code),e.abrupt("return",this.$message.error("获取本用户任务列表失败！"));case 10:this.taskList_Self=a.data.details,console.log("data:"),console.log(a),this.totalPageNum=a.data.pages,console.log("this.totalPageNum:"),console.log(this.totalPageNum),this.total_Self=10*this.totalPageNum;case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),SearchTask_Self:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==this.formInline_Self.searchType){e.next=2;break}return e.abrupt("return",this.$message.error("请输入查询方式！"));case 2:if(""!==this.formInline_Self.searchTaskInfo){e.next=4;break}return e.abrupt("return",this.$message.error("请输入搜索内容！"));case 4:return t="",t="生成方法id"===this.formInline_Self.searchType?"/task/augmentation_method/search/?augmentation_method="+this.formInline_Self.searchTaskInfo:"生成类型id"===this.formInline_Self.searchType?"/task/augmentation_type/search/?augmentation_type="+this.formInline_Self.searchTaskInfo:"任务名称"===this.formInline_Self.searchType?"/task/name/search/?task_name="+this.formInline_Self.searchTaskInfo+"&search_type=1":"/task/id/search/?task_id="+this.formInline_Self.searchTaskInfo,e.next=8,this.$http.get(t);case 8:if(a=e.sent,n=a.data,2e4===n.code){e.next=12;break}return e.abrupt("return",this.$message.error("未搜索到该任务！"));case 12:"任务id"===this.formInline_Self.searchType?(this.taskList_Self=[],this.taskList_Self.push(n.data)):this.taskList_Self=n.data.details,this.total_Self=this.taskList_Self?this.taskList_Self.length:0,this.totalPageNum=n.data.pages;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTaskList_All:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r,s,i,o,l,c,u,d,m,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("this.formInline_All:"),console.log(this.formInline_All),""!==this.formInline_All.searchType&&""!==this.formInline_All.searchTaskInfo){e.next=14;break}return e.next=5,this.$http.get("task/all/admin/search/?page="+this.queryInfo_All.page);case 5:if(t=e.sent,a=t.data,2e4===a.code){e.next=9;break}return e.abrupt("return",this.$message.error("获取任务列表失败[所有用户]！"));case 9:this.taskList_All=a.data.details,this.totalPageNum=a.data.pages,this.total_All=10*this.totalPageNum,e.next=89;break;case 14:if("用户id"!==this.formInline_All.searchType){e.next=26;break}return e.next=17,this.$http.get("/task/master/admin/search/?page="+this.queryInfo_All.page+"&user_id="+window.sessionStorage.getItem("userId"));case 17:if(n=e.sent,r=n.data,2e4===r.code){e.next=21;break}return e.abrupt("return",this.$message.error("获取任务列表失败[用户id]！"));case 21:this.taskList_All=r.data.details,this.totalPageNum=r.data.pages,this.total_All=10*this.totalPageNum,e.next=89;break;case 26:if("任务名称"!==this.formInline_All.searchType){e.next=40;break}return console.log("/task/name/admin/search/?page="+this.queryInfo_All.page+"&task_name="+this.formInline_All.searchTaskInfo),e.next=30,this.$http.get("/task/name/admin/search/?page="+this.queryInfo_All.page+"&task_name="+this.formInline_All.searchTaskInfo);case 30:if(s=e.sent,i=s.data,2e4===i.code){e.next=35;break}return console.log(i.code),e.abrupt("return",this.$message.error("获取查询列表失败[任务名称]！"));case 35:this.taskList_All=i.data.details,this.totalPageNum=i.data.pages,this.total_All=10*this.totalPageNum,e.next=89;break;case 40:if("任务id"!==this.formInline_All.searchType){e.next=53;break}return e.next=43,this.$http.get("/task/id/admin/search/?page="+this.queryInfo_All.page+"&task_id="+this.formInline_All.searchTaskInfo);case 43:if(o=e.sent,l=o.data,2e4===l.code){e.next=48;break}return console.log(l.code),e.abrupt("return",this.$message.error("获取查询列表失败[任务id]！"));case 48:this.taskList_All=l.data.details,this.totalPageNum=l.data.pages,this.total_All=10*this.totalPageNum,e.next=89;break;case 53:if("生成类型id"!==this.formInline_All.searchType){e.next=66;break}return e.next=56,this.$http.get("/task/augmentation_type/admin/search/?page="+this.queryInfo_All.page+"&augmentation_type="+this.formInline_All.searchTaskInfo);case 56:if(c=e.sent,u=c.data,2e4===u.code){e.next=61;break}return console.log(u.code),e.abrupt("return",this.$message.error("获取查询列表失败[生成类型]！"));case 61:this.taskList_All=u.data.details,this.totalPageNum=u.data.pages,this.total_All=10*this.totalPageNum,e.next=89;break;case 66:if("生成方法id"!==this.formInline_All.searchType){e.next=79;break}return e.next=69,this.$http.get("/task/augmentation_method/admin/search/?page="+this.queryInfo_All.page+"&augmentation_method="+this.formInline_All.searchTaskInfo);case 69:if(d=e.sent,m=d.data,2e4===m.code){e.next=74;break}return console.log(m.code),e.abrupt("return",this.$message.error("获取查询列表失败[生成方法]！"));case 74:this.taskList_All=m.data.details,this.totalPageNum=m.data.pages,this.total_All=10*this.totalPageNum,e.next=89;break;case 79:if("用户名"!==this.formInline_All.searchType){e.next=89;break}return e.next=82,this.$http.get("/task/master/admin/search/?page="+this.queryInfo_All.page+"&username="+this.formInline_All.searchTaskInfo);case 82:if(f=e.sent,p=f.data,2e4===p.code){e.next=86;break}return e.abrupt("return",this.$message.error("获取任务列表失败[用户名]！"));case 86:this.taskList_All=p.data.details,this.totalPageNum=p.data.pages,this.total_All=10*this.totalPageNum;case 89:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange_Self:function(e){this.queryInfo_Self.pagesize=e,this.getTaskList_Self()},handleCurrentChange_Self:function(e){this.queryInfo_Self.page=e,this.getTaskList_Self()},handleSizeChange_All:function(e){this.queryInfo_All.pagesize=e,this.getTaskList_All()},handleCurrentChange_All:function(e){this.queryInfo_All.page=e,this.getTaskList_All()},removeTaskById:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(a=e.sent,"confirm"===a){e.next=5;break}return e.abrupt("return",this.$message.info("已取消删除"));case 5:return e.next=7,this.$http.delete("/task/?task_id="+t);case 7:if(n=e.sent,r=n.data,2e4===r.code){e.next=11;break}return e.abrupt("return",this.$message.error("删除任务失败！"));case 11:this.$message.success("删除任务成功！"),this.getTaskList_Self();case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),showEditDialog:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.editForm_Self.task_id=t,this.editForm_Self.name=a,this.editForm_Self.params=n,this.editDialogSelfVisible=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}(),editDialogClosed:function(){this.$refs.editFormRef.resetFields()},editTaskInfo:function(){var e=this;this.$refs.editFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return n=new FormData,n.append("task_id",e.editForm_Self.task_id),n.append("name",e.editForm_Self.name),n.append("master",e.editForm_Self.master),e.editForm_Self.params&&n.append("params",e.editForm_Self.params),e.editForm_Self.file=document.getElementById("filetemp").files[0],e.editForm_Self.file&&n.append("file",e.editForm_Self.file),t.next=11,e.$http({url:"/task/",data:n,method:"put"});case 11:if(r=t.sent,s=r.data,2e4===s.code){t.next=15;break}return t.abrupt("return",e.$message.error("修改任务失败！"));case 15:e.$message.success("修改任务成功！"),e.editDialogSelfVisible=!1,e.$refs.editFormRef.resetFields(),e.editForm_Self.augmentation_type="",e.editForm_Self.augmentation_method="",e.editForm_Self.file={},e.getTaskList_Self();case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},originalfileDownload:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/task/file/?task_id="+t+"&file_type=0&format=json",{responseType:"blob",headers:{"Content-Type":"application/json; application/octet-stream"}});case 2:a=e.sent,console.log("respones_data:",a),console.log('headers["content-disposition"]:',a.headers["content-disposition"]),n=a.headers["content-disposition"].split("/"),r=n[n.length-1],r=r.slice(0,r.length-1),console.log("file_name1:",n),console.log("file_name2:",r),l()(a.data,r);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),generatefileDownload:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/task/file/?task_id="+t+"&file_type=1");case 2:a=e.sent,n=a.data,l()(n,"data.zip");case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleClick:function(e,t){"1"===e.index&&this.getTaskList_All()},isBlank_num:function(e){var t=e.column.property,a=e.row[t],n="-- --";return(0===a||!1===a||a)&&(n=a),n},isBlank_start:function(e){var t=e.column.property,a=e.row[t],n="未开始";return(0===a||!1===a||a)&&(n=a),n},isBlank_end:function(e){var t=e.column.property,a=e.row[t],n="未结束";return(0===a||!1===a||a)&&(n=a),n},pageReflash_All:function(){this.queryInfo_All.page=1},pageReflash_Self:function(){this.queryInfo_Self.page=1},MethodDetail:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.methodDialogSelfVisible=!0,e.next=3,this.$http.get("/task/?task_id="+t);case 3:if(a=e.sent,n=a.data,2e4===n.code){e.next=8;break}return console.log(n.code),e.abrupt("return",this.$message.error("获取本用户任务详情失败！"));case 8:console.log(n),this.methodDetail=n.data,console.log("this.methodDetail:"),console.log(this.methodDetail);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},u=c,d=(a("b0a5"),a("2877")),m=Object(d["a"])(u,n,r,!1,null,"c8a2c772",null);t["default"]=m.exports},"42a3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-s-tools"}),e._v(" 管理系统 ")]),a("el-breadcrumb-item",[e._v("生成管理")])],1)],1),a("el-card",[a("el-row",{staticClass:"search",attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getAugList},model:{value:e.searchAugName,callback:function(t){e.searchAugName=t},expression:"searchAugName"}},[a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:e.PreciseSearchAug},slot:"append"},[e._v("精确"),a("i",{staticClass:"el-icon-search el-icon--right"})])],1)],1),a("el-col",{attrs:{span:4}},["超级管理员"===this.userRight?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加生成类型")]):e._e()],1)],1),a("el-table",{attrs:{data:e.augTypeList,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"id",prop:"id",width:"50px"}}),a("el-table-column",{attrs:{label:"生成类型名称",prop:"name"}}),a("el-table-column",{attrs:{label:"生成类型描述",prop:"details"}}),a("el-table-column",{attrs:{label:"数据更新时间",prop:"update_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e._f("dateFormat")(t.row.update_datetime))+"\n                ")]}}])}),"超级管理员"===this.userRight?a("el-table-column",{attrs:{label:"操作",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.id,t.row.name,t.row.details)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.removeAugById(t.row.id)}}})],1)]}}],null,!1,3917050260)}):e._e(),a("el-table-column",{attrs:{label:"详情",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"查看方法",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"info",icon:"el-icon-more-outline",size:"mini"},on:{click:function(a){return e.augMethodsById(t.row.id)}}})],1)]}}])})],1)],1),a("el-dialog",{attrs:{title:"添加生成类型",visible:e.addDialogVisible,width:"30%"},on:{"update:visible":function(t){e.addDialogVisible=t},closed:e.addDialogClosed}},[a("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"生成类型名称",prop:"name"}},[a("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"生成类型描述",prop:"details"}},[a("el-input",{model:{value:e.addForm.details,callback:function(t){e.$set(e.addForm,"details",t)},expression:"addForm.details"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addAugType}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑生成类型信息",visible:e.editDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogVisible=t},closed:e.editDialogClosed}},[a("el-form",{ref:"editFormRef",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"生成类型id"}},[a("el-input",{attrs:{disabled:""},model:{value:e.editForm.id,callback:function(t){e.$set(e.editForm,"id",t)},expression:"editForm.id"}})],1),a("el-form-item",{attrs:{label:"生成类型名称",prop:"new_password"}},[a("el-input",{model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),a("el-form-item",{attrs:{label:"生成类型描述",prop:"new_nickname"}},[a("el-input",{model:{value:e.editForm.details,callback:function(t){e.$set(e.editForm,"details",t)},expression:"editForm.details"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editAugTypeInfo}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:" —— 生成方法",visible:e.methodDialogVisible,width:"90%"},on:{"update:visible":function(t){e.methodDialogVisible=t},closed:e.MethodsDialogClosed}},[a("el-row",{staticClass:"search",attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},["超级管理员"===this.userRight?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addMethodDialogVisible=!0}}},[e._v("添加生成方法")]):e._e()],1)],1),a("el-table",{attrs:{data:e.augMethodList,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"id",prop:"id",width:"50px"}}),a("el-table-column",{attrs:{label:"生成方法名称",prop:"name"}}),a("el-table-column",{attrs:{label:"生成方法描述",prop:"details"}}),a("el-table-column",{attrs:{label:"数据更新时间",prop:"update_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e._f("dateFormat")(t.row.update_datetime))+"\n                ")]}}])}),"超级管理员"===this.userRight?a("el-table-column",{attrs:{label:"操作",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showMethodEditDialog(t.row.id,t.row.name,t.row.details)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.removeAugMethodById(t.row.id)}}})],1)]}}],null,!1,2510940084)}):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.methodDialogVisible=!1}}},[e._v("关 闭")])],1)],1),a("el-dialog",{attrs:{title:"添加生成方法",visible:e.addMethodDialogVisible,width:"30%"},on:{"update:visible":function(t){e.addMethodDialogVisible=t},closed:e.addMethodDialogClosed}},[a("el-form",{ref:"addMethodFormRef",attrs:{model:e.addMethodForm,rules:e.addMethodFormRules,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"生成方法名称",prop:"name"}},[a("el-input",{model:{value:e.addMethodForm.name,callback:function(t){e.$set(e.addMethodForm,"name",t)},expression:"addMethodForm.name"}})],1),a("el-form-item",{attrs:{label:"生成方法描述",prop:"details"}},[a("el-input",{model:{value:e.addMethodForm.details,callback:function(t){e.$set(e.addMethodForm,"details",t)},expression:"addMethodForm.details"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addMethodDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addAugMethod}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑生成方法信息",visible:e.editMethodDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editMethodDialogVisible=t},closed:e.editMethodDialogClosed}},[a("el-form",{ref:"editMethodFormRef",attrs:{model:e.editMethodForm,rules:e.editMethodFormRules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"生成方法id"}},[a("el-input",{attrs:{disabled:""},model:{value:e.editMethodForm.id,callback:function(t){e.$set(e.editMethodForm,"id",t)},expression:"editMethodForm.id"}})],1),a("el-form-item",{attrs:{label:"生成方法名称",prop:"new_password"}},[a("el-input",{model:{value:e.editMethodForm.name,callback:function(t){e.$set(e.editMethodForm,"name",t)},expression:"editMethodForm.name"}})],1),a("el-form-item",{attrs:{label:"生成方法描述",prop:"new_nickname"}},[a("el-input",{model:{value:e.editMethodForm.details,callback:function(t){e.$set(e.editMethodForm,"details",t)},expression:"editMethodForm.details"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editMethodDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editAugMethodInfo}},[e._v("确 定")])],1)],1)],1)},r=[],s=(a("7f7f"),a("96cf"),a("1da1")),i=a("4328"),o=a.n(i),l={data:function(){return{id:"",name:"",augTypeList:[],addDialogVisible:!1,addForm:{name:"",details:""},addFormRules:{name:[{required:!0,message:"请输入生成类型名",trigger:"blur"}]},editDialogVisible:!1,editForm:{id:"",name:"",details:""},editFormRules:{name:[{required:!0,message:"请输入生成类型名",trigger:"blur"}]},searchAugName:"",augMethodList:[],methodDialogVisible:!1,addMethodDialogVisible:!1,addMethodForm:{name:"",details:"",augmentation_type:0},addMethodFormRules:{name:[{required:!0,message:"请输入生成方法名",trigger:"blur"}]},editMethodDialogVisible:!1,editMethodForm:{id:"",name:"",details:"",augmentation_type:0},editMethodFormRules:{name:[{required:!0,message:"请输入生成类型名",trigger:"blur"}]},userRight:""}},created:function(){this.userRight=this.$store.state.user_group_name,console.log("this.userRight:"),console.log(this.userRight),this.getAugList()},methods:{getAugList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("this.$store.getters.tokenInfo:"+this.$store.getters.tokenInfo),t="",""!==this.name&&(t="?name="+this.name),e.next=5,this.$http.get("/augmentation_type/"+t);case 5:if(a=e.sent,n=a.data,2e4===n.code){e.next=10;break}return console.log(n.code),e.abrupt("return",this.$message.error("获取生成类型失败！"));case 10:console.log(n),this.augTypeList=n.data;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),PreciseSearchAug:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("this.$store.getters.tokenInfo:"+this.$store.getters.tokenInfo),""!==this.searchAugName){e.next=3;break}return e.abrupt("return",this.$message.error("请输入搜索内容！"));case 3:return e.next=5,this.$http.get("/augmentation_type/?name="+this.searchAugName);case 5:if(t=e.sent,a=t.data,2e4===a.code){e.next=10;break}return console.log(a.code),e.abrupt("return",this.$message.error("未精确搜索到该生成类型！"));case 10:console.log(a),console.log(a.data),this.augTypeList=[],this.augTypeList.push(a.data);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addAugType:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return""===e.addForm.details&&(e.addForm.details="暂无"),t.next=5,e.$http.post("/augmentation_type/",o.a.stringify(e.addForm));case 5:if(n=t.sent,r=n.data,2e4===r.code){t.next=10;break}return console.log(r.code),t.abrupt("return",e.$message.error("添加生成类型失败！请检查生成类型名是否重复"));case 10:e.$message.success("添加生成类型成功！"),e.addDialogVisible=!1,e.getAugList();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},addDialogClosed:function(){this.$refs.addFormRef.resetFields()},removeAugById:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("id:"+t),e.next=3,this.$confirm("此操作将永久删除该生成类型, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 3:if(a=e.sent,"confirm"===a){e.next=6;break}return e.abrupt("return",this.$message.info("已取消删除"));case 6:return e.next=8,this.$http.delete("/augmentation_type/?id="+t);case 8:if(n=e.sent,r=n.data,2e4===r.code){e.next=12;break}return e.abrupt("return",this.$message.error("删除生成类型失败！"));case 12:this.$message.success("删除生成类型成功！"),this.getAugList();case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),showEditDialog:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.editForm.id=t,this.editForm.name=a,this.editForm.details=n,this.editDialogVisible=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}(),editDialogClosed:function(){this.$refs.editFormRef.resetFields()},editAugTypeInfo:function(){var e=this;this.$refs.editFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.put("/augmentation_type/",o.a.stringify(e.editForm));case 4:if(n=t.sent,r=n.data,2e4===r.code){t.next=9;break}return console.log(r.code),t.abrupt("return",e.$message.error("修改生成类型失败！"));case 9:e.$message.success("修改生成类型成功！"),e.editDialogVisible=!1,e.getAugList();case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},augMethodsById:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("id:"+t),this.methodDialogVisible=!0,e.next=4,this.$http.get("/augmentation_method/?augmentation_type="+t);case 4:if(a=e.sent,n=a.data,45e3!==n.code){e.next=9;break}return console.log(n.code),e.abrupt("return",this.$message.error("该生成类型暂无方法！"));case 9:if(2e4===n.code){e.next=12;break}return console.log(n.code),e.abrupt("return",this.$message.error("查询生成方法失败！"));case 12:console.log(n),this.augMethodList=n.data,JSON.stringify(this.augMethodList);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addMethodDialogClosed:function(){this.$refs.addMethodFormRef.resetFields()},addAugMethod:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.addMethodFormRef.validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return""===t.addMethodForm.details&&(t.addMethodForm.details="暂无"),t.addMethodForm.augmentation_type=t.augMethodList[0].augmentation_type_id,console.log("this.addMethodForm.augmentation_type:"+t.addMethodForm.augmentation_type),console.log("this.augMethodList.augmentation_type_id:"),console.log(t.augMethodList[0].augmentation_type_id),e.next=9,t.$http.post("/augmentation_method/",o.a.stringify(t.addMethodForm));case 9:if(n=e.sent,r=n.data,2e4===r.code){e.next=14;break}return console.log(r.code),e.abrupt("return",t.$message.error("添加生成方法失败！请检查生成方法名是否重复"));case 14:t.$message.success("添加生成方法成功！"),t.addDialogVisible=!1,t.augMethodsById(t.augMethodList[0].augmentation_type_id);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showMethodEditDialog:function(e,t,a){this.editMethodForm.id=e,this.editMethodForm.name=t,this.editMethodForm.details=a||"暂无",this.editMethodForm.augmentation_type=this.augMethodList[0].augmentation_type_id,this.editMethodDialogVisible=!0},editAugMethodInfo:function(){var e=this;this.$refs.editMethodFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(a),a){t.next=3;break}return t.abrupt("return");case 3:return console.log(e.editMethodForm),t.next=6,e.$http.put("/augmentation_method/",o.a.stringify(e.editMethodForm));case 6:if(n=t.sent,r=n.data,2e4===r.code){t.next=11;break}return console.log(r.code),t.abrupt("return",e.$message.error("修改生成方法失败，请添加修改！"));case 11:e.$message.success("修改生成方法成功！"),e.editDialogVisible=!1,e.augMethodsById(e.editMethodForm.augmentation_type);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},editMethodDialogClosed:function(){this.$refs.editMethodFormRef.resetFields()},removeAugMethodById:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("删除方法id:"+t),e.next=3,this.$confirm("此操作将永久删除该生成方法, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 3:if(a=e.sent,"confirm"===a){e.next=6;break}return e.abrupt("return",this.$message.info("已取消删除"));case 6:return e.next=8,this.$http.delete("/augmentation_method/?id="+t);case 8:if(n=e.sent,r=n.data,2e4===r.code){e.next=12;break}return e.abrupt("return",this.$message.error("删除生成方法失败！"));case 12:this.$message.success("删除生成方法成功！"),this.augMethodsById(this.augMethodList[0].augmentation_type_id);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),MethodsDialogClosed:function(){this.augMethodList=[]}}},c=l,u=(a("7882"),a("2877")),d=Object(u["a"])(c,n,r,!1,null,"af388492",null);t["default"]=d.exports},"437f":function(e,t,a){"use strict";a("35f6")},4449:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-picture-outline-round"}),e._v(" 雷达图像数据 ")]),a("el-breadcrumb-item",[e._v("添加生成任务")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.FormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"任务类型"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"请选择生成类型",prop:"augmentation_type"},on:{change:e.typeChanged},model:{value:e.form.augmentation_type,callback:function(t){e.$set(e.form,"augmentation_type",t)},expression:"form.augmentation_type"}},e._l(this.typeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1),a("el-select",{attrs:{placeholder:"请选择生成方法",prop:"augmentation_method"},model:{value:e.form.augmentation_method,callback:function(t){e.$set(e.form,"augmentation_method",t)},expression:"form.augmentation_method"}},e._l(this.methods,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"参数设定",prop:"params"}},[a("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.form.params,callback:function(t){e.$set(e.form,"params",t)},expression:"form.params"}})],1),a("el-form-item",{attrs:{label:"上传文件"}},[a("input",{attrs:{type:"file",id:"filetemp",prop:"form.file"}}),a("br")]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("表单提交")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},r=[],s=(a("7f7f"),a("96cf"),a("1da1")),i=(a("4328"),{name:"baseform",data:function(){return{form:{name:"",augmentation_method:"",params:"",master:this.$store.state.userId,file:{}},FormRules:{name:[{required:!0,message:"任务名不可为空",trigger:"blur"}],augmentation_method:[{required:!0,message:"生成方法不可为空",trigger:"blur"}]},methods:[],fileList:[],typeList:[]}},methods:{onSubmit:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.FormRules),console.log("正在预验证"),!a){t.next=37;break}if(""!==e.form.augmentation_method){t.next=5;break}return t.abrupt("return",e.$message.error("请选择生成方法!"));case 5:if(""!==e.form.name){t.next=7;break}return t.abrupt("return",e.$message.error("生成任务名不能为空!"));case 7:return console.log("通过预验证"),console.log("this.form:"),console.log(e.form),n=new FormData,n.append("name",e.form.name),n.append("augmentation_method",e.form.augmentation_method),n.append("master",e.form.master),e.form.params&&n.append("params",e.form.params),e.form.file=document.getElementById("filetemp").files[0],console.log(e.form.file),e.form.file&&n.append("file",e.form.file),console.log("adddata:"),console.log(n),console.log("form:"),console.log(e.form),t.next=24,e.$http({url:"/task/",data:n,method:"post"});case 24:if(r=t.sent,s=r.data,2e4===s.code){t.next=29;break}return console.log(s.code),t.abrupt("return",e.$message.error("添加生成任务失败！"));case 29:console.log("adddata:"),console.log(n),e.$message.success("提交成功！"),console.log("重置表单"),e.$refs.formRef.resetFields(),e.form.augmentation_type="",e.form.augmentation_method="",e.form.file={};case 37:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},typeChanged:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""===t){e.next=22;break}return this.methods=[],console.log("name:"+t),console.log("this.$store.getters.augTypeList:"),console.log(this.$store.getters.augTypeList),a=this.typeList.filter((function(e){return console.log("item.name:"),console.log(e.name),e.name==t}))[0].id,console.log("id:"),console.log(a),e.next=10,this.$http.get("/augmentation_method/?augmentation_type="+a);case 10:if(n=e.sent,r=n.data,45e3!==r.code){e.next=15;break}return console.log(r.code),e.abrupt("return",this.$message.error("该生成类型暂无方法！"));case 15:if(2e4===r.code){e.next=18;break}return console.log(r.code),e.abrupt("return",this.$message.error("查询生成方法失败！"));case 18:console.log(r),this.methods=r.data.filter((function(e){return console.log("methodItem:"),console.log(e),e.augmentation_type_id===a})),console.log("this.methods:"),console.log(this.methods);case 22:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),fileLoad:function(){var e=this.$refs.refFile.files[0];console.log("this.$refs.refFile.files:"),console.log(this.$refs.refFile.files);var t=e.name,a=e.size;console.log("文件名:"+t+"大小："+a),this.form.file=e},clickLoad:function(){this.$refs.refFile.dispatchEvent(new MouseEvent("click"))},getTypeList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/augmentation_type/");case 2:if(t=e.sent,a=t.data,2e4===a.code){e.next=7;break}return console.log(a.code),e.abrupt("return",this.$message.error("获取任务列表失败！"));case 7:console.log(a.data),this.typeList=a.data,console.log("this.typeList:"),console.log(this.typeList);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){console.log("augTypeList:"),console.log(this.$store.getters.augTypeList)},created:function(){this.getTypeList()}}),o=i,l=(a("437f"),a("2877")),c=Object(l["a"])(o,n,r,!1,null,"c34c86fe",null);t["default"]=c.exports},"45ca":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-magic-stick"}),e._v(" 激光雷达数据 ")]),a("el-breadcrumb-item",[e._v("数据可视化")])],1)],1),a("hr"),a("el-card",[a("div",{staticClass:"view"},[a("div",[a("el-button",{attrs:{type:"success",id:"fileImport"},on:{click:e.clickLoad}},[e._v("\n                    导入雷达数据\n                ")]),a("input",{ref:"refFile",staticStyle:{display:"none"},attrs:{type:"file",id:"files"},on:{change:e.fileLoad}})],1),a("div",{staticClass:"view1",attrs:{id:"main"}})])])],1)},r=[],s=(a("ac6a"),a("28a5"),a("7f7f"),a("63e3")),i=(a("4aa5"),{data:function(){return{fileList:[],pointCloudData:[],option:[]}},methods:{fileLoad:function(){var e=this;this.pointCloudData&&(this.pointCloudData=[]);var t=s["init"](document.getElementById("main")),a=this.$refs.refFile.files[0];console.log("selectedFile:"),console.log(a);var n=a.name,r=a.size;console.log("文件名:"+n+"大小："+r);var i=new FileReader;i.readAsText(a),i.onload=function(a){console.log("e.target.result:"),console.log(a.target.result);var n=a.target.result.split("\r\n");n=a.target.result.split("\n"),n=a.target.result.split("\r"),n.forEach((function(t){var a=t.split(" ");a[3]=100*a[3],e.pointCloudData.push(a)})),console.log("this.pointCloudData:"),console.log(e.pointCloudData),e.option={title:{text:"激光雷达三维点云图"},grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{max:50,min:-50},visualMap:{calculable:!0,max:40,min:0,inRange:{symbolSize:2,color:["#abd9e9","#74add1","#4575b4","#313695"]}},series:[{type:"scatter3D",data:e.pointCloudData}]},t.setOption(e.option)}},clickLoad:function(){this.$refs.refFile.dispatchEvent(new MouseEvent("click"))}},mounted:function(){}}),o=i,l=(a("5683"),a("2877")),c=Object(l["a"])(o,n,r,!1,null,"28641d12",null);t["default"]=c.exports},"4cac":function(e,t,a){},5009:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticStyle:{"padding-top":"-2px !important"}},[a("i",{staticClass:"el-icon-umplidardata"}),e._v(" 电磁波雷达数据\n            ")]),a("el-breadcrumb-item",[e._v("生成任务查询")])],1)],1),a("el-card",[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"本用户",name:"self"}},[a("el-row",{staticClass:"search",attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline_Self}},[a("el-form-item",{attrs:{label:"查询方式"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"请选择查询方式",prop:"searchType"},model:{value:e.formInline_Self.searchType,callback:function(t){e.$set(e.formInline_Self,"searchType",t)},expression:"formInline_Self.searchType"}},[a("el-option",{attrs:{label:"生成方法id",value:"生成方法id"}}),a("el-option",{attrs:{label:"生成类型id",value:"生成类型id"}}),a("el-option",{attrs:{label:"任务名称",value:"任务名称"}}),a("el-option",{attrs:{label:"任务id",value:"任务id"}})],1)],1),a("el-form-item",{attrs:{label:"查询内容"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getTaskList_Self},model:{value:e.formInline_Self.searchTaskInfo,callback:function(t){e.$set(e.formInline_Self,"searchTaskInfo",t)},expression:"formInline_Self.searchTaskInfo"}},[a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.pageReflash_Self(),e.SearchTask_Self()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"})])],1)],1)],1)],1)],1),a("el-table",{attrs:{data:e.taskList_Self,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"id",prop:"id",width:"50px"}}),a("el-table-column",{attrs:{label:"任务名",prop:"name"}}),a("el-table-column",{attrs:{label:"任务状态",prop:"task_status",width:"100px"}}),a("el-table-column",{attrs:{label:"任务是否上传原型文件",prop:"task_have_origin_file",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.task_have_origin_file?a("el-tag",{staticClass:"right10"},[e._v("\n                                  是  \n                            ")]):!1===t.row.task_have_origin_file?a("el-tag",{attrs:{type:"danger"}},[e._v("  否  ")]):e._e(),!0===t.row.task_have_origin_file?a("el-tooltip",{attrs:{content:"原始文件下载",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"success",icon:"el-icon-download",size:"mini",plain:""},on:{click:function(a){return e.originalfileDownload(t.row.id)}}})],1):e._e()]}}])}),a("el-table-column",{attrs:{label:"任务是否生成生成文件",prop:"task_have_generate_file",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.task_have_generate_file?a("el-tag",[e._v("\n                                  是  \n                            ")]):!1===t.row.task_have_generate_file?a("el-tag",{attrs:{type:"danger"}},[e._v("  否  ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"任务生成数据数量",prop:"generate_data_number",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e.isBlank_num(t))+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"任务数据更新时间",prop:"update_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(t.row.update_datetime))+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"任务开始时间",prop:"start_datetime",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(e.isBlank_start(t)))+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"任务结束时间",prop:"fin_datetime",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(e.isBlank_end(t)))+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.id,t.row.name,t.row.params)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.removeTaskById(t.row.id)}}})],1)]}}])}),a("el-table-column",{attrs:{label:"详情",width:"65px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"方法详情",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"info",icon:"el-icon-more-outline",size:"mini"},on:{click:function(a){return e.MethodDetail(t.row.id)}}})],1)]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo_Self.page,"page-size":10,layout:"total, prev, pager, next",total:e.total_Self},on:{"size-change":e.handleSizeChange_Self,"current-change":e.handleCurrentChange_Self,"update:currentPage":function(t){return e.$set(e.queryInfo_Self,"page",t)},"update:current-page":function(t){return e.$set(e.queryInfo_Self,"page",t)}}})],1),"超级管理员"===this.userRight?a("el-tab-pane",{attrs:{label:"所有用户",name:"all"}},[a("el-row",{staticClass:"search",attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline_All}},[a("el-form-item",{attrs:{label:"查询方式"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"请选择查询方式",prop:"searchType"},model:{value:e.formInline_All.searchType,callback:function(t){e.$set(e.formInline_All,"searchType",t)},expression:"formInline_All.searchType"}},[a("el-option",{attrs:{label:"生成方法id",value:"生成方法id"}}),a("el-option",{attrs:{label:"生成类型id",value:"生成类型id"}}),a("el-option",{attrs:{label:"任务名称",value:"任务名称"}}),a("el-option",{attrs:{label:"任务id",value:"任务id"}}),a("el-option",{attrs:{label:"用户id",value:"用户id"}}),a("el-option",{attrs:{label:"用户名",value:"用户名"}})],1)],1),a("el-form-item",{attrs:{label:"查询内容"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getTaskList_All},model:{value:e.formInline_All.searchTaskInfo,callback:function(t){e.$set(e.formInline_All,"searchTaskInfo",t)},expression:"formInline_All.searchTaskInfo"}},[a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.pageReflash_All(),e.getTaskList_All()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"}),e._v("所有用户")])],1)],1)],1)],1)],1),a("el-table",{attrs:{data:e.taskList_All,border:"",stripe:"","empty-text":"暂无数据"}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"id",prop:"id",width:"50px"}}),a("el-table-column",{attrs:{label:"任务名",prop:"name"}}),a("el-table-column",{attrs:{label:"任务状态",prop:"task_status"}}),a("el-table-column",{attrs:{label:"任务是否上传原型文件",prop:"task_have_origin_file",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.task_have_origin_file?a("el-tag",{staticClass:"right10"},[e._v("\n                                  是  \n                            ")]):!1===t.row.task_have_origin_file?a("el-tag",{attrs:{type:"danger"}},[e._v("  否  ")]):e._e(),!0===t.row.task_have_origin_file?a("el-tooltip",{attrs:{content:"原始文件下载",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"success",icon:"el-icon-download",size:"mini",plain:""},on:{click:function(a){return e.originalfileDownload(t.row.id)}}})],1):e._e()]}}],null,!1,2712567633)}),a("el-table-column",{attrs:{label:"任务是否生成生成文件",prop:"task_have_generate_file",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.task_have_generate_file?a("el-tag",[e._v("\n                                  是  \n                            ")]):!1===t.row.task_have_generate_file?a("el-tag",{attrs:{type:"danger"}},[e._v("  否  ")]):e._e()]}}],null,!1,1762853550)}),a("el-table-column",{attrs:{label:"任务生成数据数量",prop:"generate_data_number"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e.isBlank_num(t))+"\n                        ")]}}],null,!1,3497418383)}),a("el-table-column",{attrs:{label:"任务数据更新时间",prop:"update_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(t.row.update_datetime))+"\n                        ")]}}],null,!1,3402086428)}),a("el-table-column",{attrs:{label:"任务开始时间",prop:"start_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(e.isBlank_start(t)))+"\n                        ")]}}],null,!1,3832440439)}),a("el-table-column",{attrs:{label:"任务结束时间",prop:"fin_datetime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("dateFormat")(e.isBlank_end(t)))+"\n                        ")]}}],null,!1,3397014904)}),a("el-table-column",{attrs:{label:"任务所有者名称",prop:"master_username"}}),a("el-table-column",{attrs:{label:"操作",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.id,t.row.name,t.row.params)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.removeTaskById(t.row.id)}}})],1)]}}],null,!1,3651245204)}),a("el-table-column",{attrs:{label:"详情",width:"65px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"方法详情",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"info",icon:"el-icon-more-outline",size:"mini"},on:{click:function(a){return e.MethodDetail(t.row.id)}}})],1)]}}],null,!1,2363916491)})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo_All.page,"page-size":10,layout:"total, prev, pager, next",total:e.total_All},on:{"size-change":e.handleSizeChange_All,"current-change":e.handleCurrentChange_All,"update:currentPage":function(t){return e.$set(e.queryInfo_All,"page",t)},"update:current-page":function(t){return e.$set(e.queryInfo_All,"page",t)}}})],1):e._e()],1)],1),a("el-dialog",{attrs:{title:"编辑任务信息",visible:e.editDialogSelfVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogSelfVisible=t},closed:e.editDialogClosed}},[a("el-form",{ref:"editFormRef",attrs:{model:e.editForm_Self,rules:e.editFormSelfRules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"任务id"}},[a("el-input",{attrs:{disabled:""},model:{value:e.editForm_Self.task_id,callback:function(t){e.$set(e.editForm_Self,"task_id",t)},expression:"editForm_Self.task_id"}})],1),a("el-form-item",{attrs:{label:"任务名",prop:"name"}},[a("el-input",{model:{value:e.editForm_Self.name,callback:function(t){e.$set(e.editForm_Self,"name",t)},expression:"editForm_Self.name"}})],1),a("el-form-item",{attrs:{label:"任务参数",prop:"params"}},[a("el-input",{model:{value:e.editForm_Self.params,callback:function(t){e.$set(e.editForm_Self,"params",t)},expression:"editForm_Self.params"}})],1),a("el-form-item",{attrs:{label:"重新上传文件",prop:"file"}},[a("input",{attrs:{type:"file",id:"filetemp",prop:"editForm_Self.file"}}),a("br")])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogSelfVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editTaskInfo}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"生成任务详情",visible:e.methodDialogSelfVisible,width:"50%","body-style":"background-color: rgba(255, 255, 255, 0.6);"},on:{"update:visible":function(t){e.methodDialogSelfVisible=t}}},[a("div",{staticClass:"user-info-list"},[e._v("\n            任务id：\n            "),a("span",[e._v(e._s(e.methodDetail.id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务名称：\n            "),a("span",[e._v(e._s(e.methodDetail.name))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务参数：\n            "),a("span",[e._v(e._s(e.methodDetail.params?e.methodDetail.params:"暂无"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务状态：\n            "),a("span",[e._v(e._s(e.methodDetail.task_status))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务是否上传原型文件：\n            "),a("span",[e._v(e._s(e.methodDetail.task_have_origin_file?"是":"否"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务是否生成扩增文件：\n            "),a("span",[e._v(e._s(e.methodDetail.task_have_generate_file?"是":"否"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务扩增数据数量：\n            "),a("span",[e._v(e._s(e.methodDetail.generate_data_number?e.methodDetail.generate_data_number:"暂无"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务数据更新时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.update_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务开始时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.start_datetime?e.methodDetail.start_datetime:"未开始")))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务结束时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.fin_datetime?e.methodDetail.start_datetime:"未结束")))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者id：\n            "),a("span",[e._v(e._s(e.methodDetail.master_id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者username：\n            "),a("span",[e._v(e._s(e.methodDetail.master_username))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者nickname：\n            "),a("span",[e._v(e._s(e.methodDetail.master_nickname))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者用户组：\n            "),a("span",[e._v(e._s(e.methodDetail.master_user_group))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者加入时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.master_join_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者最近一次登录时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.master_last_login_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者信息更新时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.master_update_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增方法id：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_method_id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增方法名称：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_method_name))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增方法的细节、介绍等：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_method_details))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增类型id：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_type_id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增类型名称：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_type_name))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增类型的细节、介绍等：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_type_details))])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.methodDialogSelfVisible=!1}}},[e._v("关 闭")])],1)])],1)},r=[],s=(a("7f7f"),a("96cf"),a("1da1")),i=a("ade3"),o=(a("4328"),a("3452"),{data:function(){var e;return e={queryInfo_Self:{page:1},taskList_Self:[],total_Self:0,formInline_Self:{searchType:"",searchTaskInfo:""},editDialogSelfVisible:!1,editForm_Self:{task_id:0,master:this.$store.getters.userId,name:"",params:"",file:{}},editFormSelfRules:{name:[{required:!0,message:"请输入任务名",trigger:"blur"}]},queryInfo_All:{page:1},taskList_All:[],total_All:0,formInline_All:{searchType:"",searchTaskInfo:""},editDialogAllVisible:!1,editForm_All:{task_id:0,master:this.$store.state.userId,name:"",params:"",file:{}},editFormAllRules:{name:[{required:!0,message:"请输入任务名",trigger:"blur"}]},FuzzySearch:!0,activeName:"self"},Object(i["a"])(e,"taskList_All",[]),Object(i["a"])(e,"userRight",""),Object(i["a"])(e,"methodDialogSelfVisible",!1),Object(i["a"])(e,"methodDetail",[]),Object(i["a"])(e,"mohu",!0),e},created:function(){this.userRight=window.sessionStorage.getItem("user_group_name"),console.log("this.userRight:"),console.log(this.userRight),this.getTaskList_Self()},methods:{getTaskList_Self:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("/task/self/search/?page="+this.queryInfo_Self.page),e.next=3,this.$http.get("/task/self/search/?page="+this.queryInfo_Self.page);case 3:if(t=e.sent,a=t.data,2e4===a.code){e.next=10;break}if(40400!==a.code){e.next=8;break}return e.abrupt("return",this.$message.error("本用户未添加过任务！"));case 8:return console.log(a.code),e.abrupt("return",this.$message.error("获取本用户任务列表失败！"));case 10:this.taskList_Self=a.data.details,console.log("data:"),console.log(a),this.totalPageNum=a.data.pages,console.log("this.totalPageNum:"),console.log(this.totalPageNum),this.total_Self=10*this.totalPageNum;case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),SearchTask_Self:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==this.formInline_Self.searchType){e.next=2;break}return e.abrupt("return",this.$message.error("请输入查询方式！"));case 2:if(""!==this.formInline_Self.searchTaskInfo){e.next=4;break}return e.abrupt("return",this.$message.error("请输入搜索内容！"));case 4:return t="",t="生成方法id"===this.formInline_Self.searchType?"/task/augmentation_method/search/?augmentation_method="+this.formInline_Self.searchTaskInfo:"生成类型id"===this.formInline_Self.searchType?"/task/augmentation_type/search/?augmentation_type="+this.formInline_Self.searchTaskInfo:"任务名称"===this.formInline_Self.searchType?"/task/name/search/?task_name="+this.formInline_Self.searchTaskInfo+"&search_type=1":"/task/id/search/?task_id="+this.formInline_Self.searchTaskInfo,e.next=8,this.$http.get(t);case 8:if(a=e.sent,n=a.data,2e4===n.code){e.next=12;break}return e.abrupt("return",this.$message.error("未搜索到该任务！"));case 12:"任务id"===this.formInline_Self.searchType?(this.taskList_Self=[],this.taskList_Self.push(n.data)):this.taskList_Self=n.data.details,this.total_Self=this.taskList_Self?this.taskList_Self.length:0,this.totalPageNum=n.data.pages;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTaskList_All:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r,s,i,o,l,c,u,d,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("this.formInline_All:"),console.log(this.formInline_All),""!==this.formInline_All.searchType&&"用户id"!==this.formInline_All.searchType&&""!==this.formInline_All.searchTaskInfo){e.next=14;break}return e.next=5,this.$http.get("/task/master/admin/search/?page="+this.queryInfo_All.page+"&user_id="+window.sessionStorage.getItem("userId"));case 5:if(t=e.sent,a=t.data,2e4===a.code){e.next=9;break}return e.abrupt("return",this.$message.error("获取任务列表失败[用户id]！"));case 9:this.taskList_All=a.data.details,this.totalPageNum=a.data.pages,this.total_All=10*this.totalPageNum,e.next=77;break;case 14:if("任务名称"!==this.formInline_All.searchType){e.next=28;break}return console.log("/task/name/admin/search/?page="+this.queryInfo_All.page+"&task_name="+this.formInline_All.searchTaskInfo),e.next=18,this.$http.get("/task/name/admin/search/?page="+this.queryInfo_All.page+"&task_name="+this.formInline_All.searchTaskInfo);case 18:if(n=e.sent,r=n.data,2e4===r.code){e.next=23;break}return console.log(r.code),e.abrupt("return",this.$message.error("获取查询列表失败[任务名称]！"));case 23:this.taskList_All=r.data.details,this.totalPageNum=r.data.pages,this.total_All=10*this.totalPageNum,e.next=77;break;case 28:if("任务id"!==this.formInline_All.searchType){e.next=41;break}return e.next=31,this.$http.get("/task/id/admin/search/?page="+this.queryInfo_All.page+"&task_id="+this.formInline_All.searchTaskInfo);case 31:if(s=e.sent,i=s.data,2e4===i.code){e.next=36;break}return console.log(i.code),e.abrupt("return",this.$message.error("获取查询列表失败[任务id]！"));case 36:this.taskList_All=i.data.details,this.totalPageNum=i.data.pages,this.total_All=10*this.totalPageNum,e.next=77;break;case 41:if("生成类型id"!==this.formInline_All.searchType){e.next=54;break}return e.next=44,this.$http.get("/task/augmentation_type/admin/search/?page="+this.queryInfo_All.page+"&augmentation_type="+this.formInline_All.searchTaskInfo);case 44:if(o=e.sent,l=o.data,2e4===l.code){e.next=49;break}return console.log(l.code),e.abrupt("return",this.$message.error("获取查询列表失败[生成类型]！"));case 49:this.taskList_All=l.data.details,this.totalPageNum=l.data.pages,this.total_All=10*this.totalPageNum,e.next=77;break;case 54:if("生成方法id"!==this.formInline_All.searchType){e.next=67;break}return e.next=57,this.$http.get("/task/augmentation_method/admin/search/?page="+this.queryInfo_All.page+"&augmentation_method="+this.formInline_All.searchTaskInfo);case 57:if(c=e.sent,u=c.data,2e4===u.code){e.next=62;break}return console.log(u.code),e.abrupt("return",this.$message.error("获取查询列表失败[生成方法]！"));case 62:this.taskList_All=u.data.details,this.totalPageNum=u.data.pages,this.total_All=10*this.totalPageNum,e.next=77;break;case 67:if("用户名"!==this.formInline_All.searchType){e.next=77;break}return e.next=70,this.$http.get("/task/master/admin/search/?page="+this.queryInfo_All.page+"&username="+this.formInline_All.searchTaskInfo);case 70:if(d=e.sent,m=d.data,2e4===m.code){e.next=74;break}return e.abrupt("return",this.$message.error("获取任务列表失败[用户名]！"));case 74:this.taskList_All=m.data.details,this.totalPageNum=m.data.pages,this.total_All=10*this.totalPageNum;case 77:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange_Self:function(e){this.queryInfo_Self.pagesize=e,this.getTaskList_Self()},handleCurrentChange_Self:function(e){this.queryInfo_Self.page=e,this.getTaskList_Self()},handleSizeChange_All:function(e){this.queryInfo_All.pagesize=e,this.getTaskList_All()},handleCurrentChange_All:function(e){this.queryInfo_All.page=e,this.getTaskList_All()},removeTaskById:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(a=e.sent,"confirm"===a){e.next=5;break}return e.abrupt("return",this.$message.info("已取消删除"));case 5:return e.next=7,this.$http.delete("/task/?task_id="+t);case 7:if(n=e.sent,r=n.data,2e4===r.code){e.next=11;break}return e.abrupt("return",this.$message.error("删除任务失败！"));case 11:this.$message.success("删除任务成功！"),this.getTaskList_Self();case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),showEditDialog:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.editForm_Self.task_id=t,this.editForm_Self.name=a,this.editForm_Self.params=n,this.editDialogSelfVisible=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}(),editDialogClosed:function(){this.$refs.editFormRef.resetFields()},editTaskInfo:function(){var e=this;this.$refs.editFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return n=new FormData,n.append("task_id",e.editForm_Self.task_id),n.append("name",e.editForm_Self.name),n.append("master",e.editForm_Self.master),e.editForm_Self.params&&n.append("params",e.editForm_Self.params),e.editForm_Self.file=document.getElementById("filetemp").files[0],e.editForm_Self.file&&n.append("file",e.editForm_Self.file),t.next=11,e.$http({url:"/task/",data:n,method:"put"});case 11:if(r=t.sent,s=r.data,2e4===s.code){t.next=15;break}return t.abrupt("return",e.$message.error("修改任务失败！"));case 15:e.$message.success("修改任务成功！"),e.editDialogSelfVisible=!1,e.$refs.editFormRef.resetFields(),e.editForm_Self.augmentation_type="",e.editForm_Self.augmentation_method="",e.editForm_Self.file={},e.getTaskList_Self();case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},originalfileDownload:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/task/file/?task_id="+t+"&file_type=0");case 2:a=e.sent,a.data;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleClick:function(e,t){"1"===e.index&&this.getTaskList_All()},isBlank_num:function(e){var t=e.column.property,a=e.row[t],n="-- --";return(0===a||!1===a||a)&&(n=a),n},isBlank_start:function(e){var t=e.column.property,a=e.row[t],n="未开始";return(0===a||!1===a||a)&&(n=a),n},isBlank_end:function(e){var t=e.column.property,a=e.row[t],n="未结束";return(0===a||!1===a||a)&&(n=a),n},pageReflash_All:function(){this.queryInfo_All.page=1},pageReflash_Self:function(){this.queryInfo_Self.page=1},MethodDetail:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.methodDialogSelfVisible=!0,e.next=3,this.$http.get("/task/?task_id="+t);case 3:if(a=e.sent,n=a.data,2e4===n.code){e.next=8;break}return console.log(n.code),e.abrupt("return",this.$message.error("获取本用户任务详情失败！"));case 8:console.log(n),this.methodDetail=n.data,console.log("this.methodDetail:"),console.log(this.methodDetail);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}}),l=o,c=(a("511c"),a("2877")),u=Object(c["a"])(l,n,r,!1,null,"a9e7224c",null);t["default"]=u.exports},"511c":function(e,t,a){"use strict";a("fbf7")},5683:function(e,t,a){"use strict";a("2806")},7159:function(e,t,a){e.exports=a.p+"static/img/img.146655c9.jpg"},"769c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-umplidardata"}),e._v(" 电磁波雷达数据 ")]),a("el-breadcrumb-item",[e._v("添加生成任务")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.FormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"任务类型"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"请选择生成类型",prop:"augmentation_type"},on:{change:e.typeChanged},model:{value:e.form.augmentation_type,callback:function(t){e.$set(e.form,"augmentation_type",t)},expression:"form.augmentation_type"}},e._l(this.typeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1),a("el-select",{attrs:{placeholder:"请选择生成方法",prop:"augmentation_method"},model:{value:e.form.augmentation_method,callback:function(t){e.$set(e.form,"augmentation_method",t)},expression:"form.augmentation_method"}},e._l(this.methods,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"参数设定",prop:"params"}},[a("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.form.params,callback:function(t){e.$set(e.form,"params",t)},expression:"form.params"}})],1),a("el-form-item",{attrs:{label:"上传文件"}},[a("input",{attrs:{type:"file",id:"filetemp",prop:"form.file"}}),a("br")]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("表单提交")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},r=[],s=(a("7f7f"),a("96cf"),a("1da1")),i=(a("4328"),{name:"baseform",data:function(){return{form:{name:"",augmentation_method:"",params:"",master:this.$store.state.userId,file:{}},FormRules:{name:[{required:!0,message:"任务名不可为空",trigger:"blur"}],augmentation_method:[{required:!0,message:"生成方法不可为空",trigger:"blur"}]},methods:[],fileList:[],typeList:[]}},methods:{onSubmit:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.FormRules),console.log("正在预验证"),!a){t.next=38;break}if(""!==e.form.augmentation_method){t.next=5;break}return t.abrupt("return",e.$message.error("请选择生成方法!"));case 5:if(""!==e.form.name){t.next=7;break}return t.abrupt("return",e.$message.error("生成任务名不能为空!"));case 7:return console.log("通过预验证"),console.log("this.form:"),console.log(e.form),n=new FormData,n.append("name",e.form.name),n.append("augmentation_method",e.form.augmentation_method),n.append("master",e.form.master),e.form.params&&n.append("params",e.form.params),e.form.file=document.getElementById("filetemp").files[0],console.log(e.form.file),e.form.file&&n.append("file",e.form.file),console.log("adddata:"),console.log(n),console.log("form:"),console.log(e.form),t.next=24,e.$http({url:"/task/",data:n,method:"post"});case 24:if(r=t.sent,s=r.data,2e4===s.code){t.next=30;break}return console.log(s.code),console.log(s.msg),t.abrupt("return",e.$message.error("添加生成任务失败！错误原因："+s.msg));case 30:console.log("adddata:"),console.log(n),e.$message.success("提交成功！"),console.log("重置表单"),e.$refs.formRef.resetFields(),e.form.augmentation_type="",e.form.augmentation_method="",e.form.file={};case 38:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},typeChanged:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""===t){e.next=22;break}return this.methods=[],console.log("name:"+t),console.log("this.$store.getters.augTypeList:"),console.log(this.$store.getters.augTypeList),a=this.typeList.filter((function(e){return console.log("item.name:"),console.log(e.name),e.name==t}))[0].id,console.log("id:"),console.log(a),e.next=10,this.$http.get("/augmentation_method/?augmentation_type="+a);case 10:if(n=e.sent,r=n.data,45e3!==r.code){e.next=15;break}return console.log(r.code),e.abrupt("return",this.$message.error("该生成类型暂无方法！"));case 15:if(2e4===r.code){e.next=18;break}return console.log(r.code),e.abrupt("return",this.$message.error("查询生成方法失败！"));case 18:console.log(r),this.methods=r.data.filter((function(e){return console.log("methodItem:"),console.log(e),e.augmentation_type_id===a})),console.log("this.methods:"),console.log(this.methods);case 22:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),fileLoad:function(){var e=this.$refs.refFile.files[0];console.log("this.$refs.refFile.files:"),console.log(this.$refs.refFile.files);var t=e.name,a=e.size;console.log("文件名:"+t+"大小："+a),this.form.file=e},clickLoad:function(){this.$refs.refFile.dispatchEvent(new MouseEvent("click"))},getTypeList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/augmentation_type/");case 2:if(t=e.sent,a=t.data,2e4===a.code){e.next=7;break}return console.log(a.code),e.abrupt("return",this.$message.error("获取任务列表失败！"));case 7:console.log(a.data),this.typeList=a.data,console.log("this.typeList:"),console.log(this.typeList);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){console.log("augTypeList:"),console.log(this.$store.getters.augTypeList)},created:function(){this.getTypeList()}}),o=i,l=(a("dd0a"),a("2877")),c=Object(l["a"])(o,n,r,!1,null,"31e4f7c9",null);t["default"]=c.exports},7882:function(e,t,a){"use strict";a("bde9")},"84ec":function(e,t,a){},"88be":function(e,t,a){},"97e8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"crumbs"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[n("i",{staticClass:"el-icon-user"}),e._v(" 个人信息 ")])],1)],1),n("el-card",{staticClass:"bgi mgb20",staticStyle:{height:"530px"},attrs:{shadow:"hover"}},[n("div",{staticClass:"user-info"},[n("img",{staticClass:"user-avator",attrs:{src:a("7159"),alt:""}}),n("div",{staticClass:"user-info-cont"},[n("div",{staticClass:"user-info-name"},[e._v(e._s(e.name))]),n("div",[e._v(e._s(e.role))])]),n("el-tooltip",{attrs:{effect:"dark",content:"编辑个人信息",placement:"top",enterable:!1}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.showEditDialog(e.name)}}})],1)],1),n("div",{staticClass:"user-info-list"},[e._v("\n            账户名：\n            "),n("span",[e._v(e._s(e.Info.username))])]),n("div",{staticClass:"user-info-list"},[e._v("\n            加入时间：\n            "),n("span",[e._v(e._s(e._f("dateFormat")(e.Info.join_datetime)))])]),n("div",{staticClass:"user-info-list"},[e._v("\n            上一次登录时间：\n            "),n("span",[e._v(e._s(e._f("dateFormat")(e.Info.last_login_datetime)))])])]),n("el-dialog",{attrs:{title:"编辑用户信息",visible:e.editDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogVisible=t},closed:e.editDialogClosed}},[n("el-form",{ref:"editFormRef",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"110px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{attrs:{disabled:""},model:{value:e.editForm.username,callback:function(t){e.$set(e.editForm,"username",t)},expression:"editForm.username"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"new_password"}},[n("el-input",{model:{value:e.editForm.new_password,callback:function(t){e.$set(e.editForm,"new_password",t)},expression:"editForm.new_password"}})],1),n("el-form-item",{attrs:{label:"用户名称",prop:"new_nickname"}},[n("el-input",{model:{value:e.editForm.new_nickname,callback:function(t){e.$set(e.editForm,"new_nickname",t)},expression:"editForm.new_nickname"}})],1),"超级管理员"===e.role?n("el-form-item",{attrs:{label:"用户权限",prop:"new_user_group"}},[n("el-select",{attrs:{placeholder:"请选择用户权限"},model:{value:e.editForm.new_user_group,callback:function(t){e.$set(e.editForm,"new_user_group",t)},expression:"editForm.new_user_group"}},[n("el-option",{attrs:{label:"普通用户",value:"普通用户"}}),n("el-option",{attrs:{label:"超级管理员",value:"超级管理员"}})],1)],1):e._e()],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.editUserInfo}},[e._v("确 定")])],1)],1)],1)},r=[],s=(a("96cf"),a("1da1")),i=(a("4328"),a("3452"),{data:function(){return{Info:[],name:"",role:"",editDialogVisible:!1,editForm:{username:"",new_password:"",new_nickname:"",new_user_group:""},editFormRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"用户名的长度在3~10个字符之间",trigger:"blur"}]}}},methods:{getSelfInfo:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/user/");case 2:if(t=e.sent,a=t.data,2e4===a.code){e.next=7;break}return console.log(a.code),e.abrupt("return",this.$message.error("获取个人信息失败！"));case 7:console.log(a),this.Info=a.data;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showEditDialog:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.editForm.username=t,this.editDialogVisible=!0;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),editDialogClosed:function(){this.$refs.editFormRef.resetFields()},editUserInfo:function(){var e=this;this.$refs.editFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var n,r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return console.log("this.editForm:"),console.log(e.editForm),n=new FormData,n.append("username",e.editForm.username),e.editForm.new_password&&n.append("new_password",e.editForm.new_password),e.editForm.new_nickname&&n.append("new_nickname",e.editForm.new_nickname),e.editForm.new_user_group&&(console.log("this.editForm.new_user_group:"+e.editForm.new_user_group),r="超级管理员"===e.editForm.new_user_group?1:0,n.append("new_user_group",r)),t.next=11,e.$http({url:"/user/",data:n,method:"put"});case 11:if(s=t.sent,i=s.data,2e4===i.code){t.next=16;break}return console.log(i.code),t.abrupt("return",e.$message.error("修改用户失败！"));case 16:e.$message.success("修改用户成功！"),e.editDialogVisible=!1,e.getUserList();case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},mounted:function(){this.getSelfInfo()},created:function(){console.log("this.$store.state.nickname:"+this.$store.state.nickname),this.name=this.$store.state.nickname,this.role=this.$store.state.user_group_name}}),o=i,l=(a("af57"),a("2877")),c=Object(l["a"])(o,n,r,!1,null,"ecabfd5c",null);t["default"]=c.exports},"9b2d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-umplidardata"}),e._v(" 电磁波雷达数据 ")]),a("el-breadcrumb-item",[e._v("雷达图像数据可视化")])],1)],1),a("hr"),a("el-card",[a("div",{staticClass:"view"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"","on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"success"}},[e._v("\n                        训练集加入扩增数据\n                    ")])],1)],1)],1)])],1)},r=[],s=(a("ac6a"),a("28a5"),a("7f7f"),a("ade3")),i=a("63e3"),o=(a("4aa5"),{data:function(){return Object(s["a"])({fileList:[],pointCloudData:[],option:[]},"fileList",[])},methods:{fileLoad:function(){var e=this,t=i["init"](document.getElementById("main")),a=this.$refs.refFile.files[0];console.log("selectedFile:"),console.log(a);var n=a.name,r=a.size;console.log("文件名:"+n+"大小："+r);var s=new FileReader;s.readAsText(a),s.onload=function(a){console.log("e.target.result:"),console.log(a.target.result);var n=a.target.result.split("\r\n");n=a.target.result.split("\n"),n=a.target.result.split("\r"),n.forEach((function(t){var a=t.split(" ");e.pointCloudData.push(a)})),console.log("this.pointCloudData:"),console.log(e.pointCloudData),e.option={title:{text:"激光雷达三维点云图"},grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{max:10,min:-20},visualMap:{calculable:!0,max:40,min:0,inRange:{symbolSize:2,color:["#abd9e9","#74add1","#4575b4"]}},series:[{type:"scatter3D",data:e.pointCloudData}]},t.setOption(e.option)}},clickLoad:function(){this.$refs.refFile.dispatchEvent(new MouseEvent("click"))},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)}},mounted:function(){}}),l=o,c=(a("fa2f"),a("2877")),u=Object(c["a"])(l,n,r,!1,null,"cb7a64b0",null);t["default"]=u.exports},a01f:function(e,t,a){},a287:function(e,t,a){},a9a6:function(e,t,a){},ade3:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return n}))},af57:function(e,t,a){"use strict";a("080a")},b0a5:function(e,t,a){"use strict";a("a287")},b71d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-magic-stick"}),e._v(" 激光雷达数据 ")]),a("el-breadcrumb-item",[e._v("添加生成任务")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.FormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"任务类型"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"请选择生成类型",prop:"augmentation_type"},on:{change:e.typeChanged},model:{value:e.form.augmentation_type,callback:function(t){e.$set(e.form,"augmentation_type",t)},expression:"form.augmentation_type"}},e._l(this.typeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1),a("el-select",{attrs:{placeholder:"请选择生成方法",prop:"augmentation_method"},model:{value:e.form.augmentation_method,callback:function(t){e.$set(e.form,"augmentation_method",t)},expression:"form.augmentation_method"}},e._l(this.methods,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"参数设定",prop:"params"}},[a("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.form.params,callback:function(t){e.$set(e.form,"params",t)},expression:"form.params"}})],1),a("el-form-item",{attrs:{label:"上传文件"}},[a("input",{attrs:{type:"file",id:"filetemp",prop:"form.file"}}),a("br")]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("表单提交")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},r=[],s=(a("7f7f"),a("96cf"),a("1da1")),i=(a("4328"),{name:"baseform",data:function(){return{form:{name:"",augmentation_method:"",params:"",master:this.$store.state.userId,file:{}},FormRules:{augmentation_method:[{required:!0,message:"生成方法不可为空",trigger:"blur"}]},methods:[],fileList:[],typeList:[]}},methods:{onSubmit:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.FormRules),console.log("正在预验证"),!a){t.next=36;break}if(""!==e.form.augmentation_method){t.next=5;break}return t.abrupt("return",e.$message.error("请选择生成方法!"));case 5:return console.log("通过预验证"),console.log("this.form:"),console.log(e.form),n=new FormData,e.form.name&&n.append("name",e.form.name),n.append("augmentation_method",e.form.augmentation_method),e.form.params&&n.append("params",e.form.params),e.form.file=document.getElementById("filetemp").files[0],console.log(e.form.file),e.form.file&&n.append("file",e.form.file),console.log("adddata:"),console.log(n),console.log("form:"),console.log(e.form),console.log("adddata:"),console.log(n),t.next=23,e.$http({url:"/task/",data:n,method:"post"});case 23:if(r=t.sent,s=r.data,2e4===s.code){t.next=29;break}return console.log(s.code),console.log(s.msg),t.abrupt("return",e.$message.error("添加生成任务失败！错误原因："+s.msg));case 29:console.log("adddata:"),console.log(n),e.$message.success("提交成功！"),console.log("重置表单"),e.$refs.formRef.resetFields(),e.form.augmentation_method="",e.form.file={};case 36:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},typeChanged:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""===t){e.next=22;break}return this.methods=[],console.log("name:"+t),console.log("this.$store.getters.augTypeList:"),console.log(this.$store.getters.augTypeList),a=this.typeList.filter((function(e){return console.log("item.name:"),console.log(e.name),e.name==t}))[0].id,console.log("id:"),console.log(a),e.next=10,this.$http.get("/augmentation_method/?augmentation_type="+a);case 10:if(n=e.sent,r=n.data,45e3!==r.code){e.next=15;break}return console.log(r.code),e.abrupt("return",this.$message.error("该生成类型暂无方法！"));case 15:if(2e4===r.code){e.next=18;break}return console.log(r.code),e.abrupt("return",this.$message.error("查询生成方法失败！"));case 18:console.log(r),this.methods=r.data.filter((function(e){return console.log("methodItem:"),console.log(e),e.augmentation_type_id===a})),console.log("this.methods:"),console.log(this.methods);case 22:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),fileLoad:function(){var e=this.$refs.refFile.files[0];console.log("this.$refs.refFile.files:"),console.log(this.$refs.refFile.files);var t=e.name,a=e.size;console.log("文件名:"+t+"大小："+a),this.form.file=e},clickLoad:function(){this.$refs.refFile.dispatchEvent(new MouseEvent("click"))},getTypeList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/augmentation_type/");case 2:if(t=e.sent,a=t.data,2e4===a.code){e.next=7;break}return console.log(a.code),e.abrupt("return",this.$message.error("获取任务列表失败！"));case 7:console.log(a.data),this.typeList=a.data,console.log("this.typeList:"),console.log(this.typeList);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){console.log("augTypeList:"),console.log(this.$store.getters.augTypeList)},created:function(){this.getTypeList()}}),o=i,l=(a("d7da"),a("2877")),c=Object(l["a"])(o,n,r,!1,null,"4f03a417",null);t["default"]=c.exports},b85f:function(e,t,a){"use strict";a("a9a6")},bde9:function(e,t,a){},d7da:function(e,t,a){"use strict";a("4cac")},dd0a:function(e,t,a){"use strict";a("88be")},e6fe:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-picture-outline-round"}),e._v(" 雷达图像数据 ")]),a("el-breadcrumb-item",[e._v("数据可视化")])],1)],1),a("hr"),a("el-card",[a("div",{staticClass:"view"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"","on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"success"}},[e._v("\n                        训练集加入扩增数据\n                    ")])],1)],1)],1)])],1)},r=[],s=(a("ac6a"),a("28a5"),a("7f7f"),a("ade3")),i=a("63e3"),o=(a("4aa5"),{data:function(){return Object(s["a"])({fileList:[],pointCloudData:[],option:[]},"fileList",[])},methods:{fileLoad:function(){var e=this,t=i["init"](document.getElementById("main")),a=this.$refs.refFile.files[0];console.log("selectedFile:"),console.log(a);var n=a.name,r=a.size;console.log("文件名:"+n+"大小："+r);var s=new FileReader;s.readAsText(a),s.onload=function(a){console.log("e.target.result:"),console.log(a.target.result);var n=a.target.result.split("\r\n");n=a.target.result.split("\n"),n=a.target.result.split("\r"),n.forEach((function(t){var a=t.split(" ");e.pointCloudData.push(a)})),console.log("this.pointCloudData:"),console.log(e.pointCloudData),e.option={title:{text:"激光雷达三维点云图"},grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{max:10,min:-20},visualMap:{calculable:!0,max:40,min:0,inRange:{symbolSize:2,color:["#abd9e9","#74add1","#4575b4"]}},series:[{type:"scatter3D",data:e.pointCloudData}]},t.setOption(e.option)}},clickLoad:function(){this.$refs.refFile.dispatchEvent(new MouseEvent("click"))},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)}},mounted:function(){}}),l=o,c=(a("110f"),a("2877")),u=Object(c["a"])(l,n,r,!1,null,"6be7e250",null);t["default"]=u.exports},e7a4:function(e,t,a){},fa2f:function(e,t,a){"use strict";a("84ec")},fbf7:function(e,t,a){}}]);